<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.50" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://hanekawa.top/document/node-doc/OS.html"><meta property="og:site_name" content="hanekawa-shiki"><meta property="og:title" content="OS"><meta property="og:description" content="OS Node.js æ˜¯ä¸€ä¸ªèƒ½è®©å¼€å‘è€…ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯ä»£ç çš„å¹³å°ã€‚åœ¨ Node.js ä¸­ï¼Œæœ‰å¾ˆå¤šå†…ç½®æ¨¡å—å¸®åŠ©ä½ å®Œæˆå„ç§ä»»åŠ¡ï¼Œæ¯”å¦‚è¯»å†™æ–‡ä»¶ã€ç½‘ç»œé€šä¿¡ç­‰ã€‚å…¶ä¸­ï¼Œos æ¨¡å—å°±æ˜¯ä¸ºäº†è®©ä½ èƒ½å¤ŸæŸ¥è¯¢å’Œæ“ä½œæ“ä½œç³»ç»Ÿçº§åˆ«çš„ä¿¡æ¯è€Œè®¾è®¡çš„ã€‚ os æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨ è¦åœ¨ä½ çš„ Node.js ç¨‹åºä¸­ä½¿ç”¨ os æ¨¡å—ï¼Œä½ é¦–å…ˆéœ€è¦é€šè¿‡ require å‡½..."><meta property="og:type" content="website"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-06-21T09:46:17.000Z"><meta property="article:author" content="hanekawa-shiki"><meta property="article:modified_time" content="2024-06-21T09:46:17.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"OS","description":"OS Node.js æ˜¯ä¸€ä¸ªèƒ½è®©å¼€å‘è€…ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯ä»£ç çš„å¹³å°ã€‚åœ¨ Node.js ä¸­ï¼Œæœ‰å¾ˆå¤šå†…ç½®æ¨¡å—å¸®åŠ©ä½ å®Œæˆå„ç§ä»»åŠ¡ï¼Œæ¯”å¦‚è¯»å†™æ–‡ä»¶ã€ç½‘ç»œé€šä¿¡ç­‰ã€‚å…¶ä¸­ï¼Œos æ¨¡å—å°±æ˜¯ä¸ºäº†è®©ä½ èƒ½å¤ŸæŸ¥è¯¢å’Œæ“ä½œæ“ä½œç³»ç»Ÿçº§åˆ«çš„ä¿¡æ¯è€Œè®¾è®¡çš„ã€‚ os æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨ è¦åœ¨ä½ çš„ Node.js ç¨‹åºä¸­ä½¿ç”¨ os æ¨¡å—ï¼Œä½ é¦–å…ˆéœ€è¦é€šè¿‡ require å‡½..."}</script><meta name="keywords" content="JavaScript,HTML,CSS"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icons/chrome-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icons/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icons/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icons/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#5c92d1"><link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="white"><meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><title>OS | hanekawa-shiki</title><meta name="description" content="OS Node.js æ˜¯ä¸€ä¸ªèƒ½è®©å¼€å‘è€…ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯ä»£ç çš„å¹³å°ã€‚åœ¨ Node.js ä¸­ï¼Œæœ‰å¾ˆå¤šå†…ç½®æ¨¡å—å¸®åŠ©ä½ å®Œæˆå„ç§ä»»åŠ¡ï¼Œæ¯”å¦‚è¯»å†™æ–‡ä»¶ã€ç½‘ç»œé€šä¿¡ç­‰ã€‚å…¶ä¸­ï¼Œos æ¨¡å—å°±æ˜¯ä¸ºäº†è®©ä½ èƒ½å¤ŸæŸ¥è¯¢å’Œæ“ä½œæ“ä½œç³»ç»Ÿçº§åˆ«çš„ä¿¡æ¯è€Œè®¾è®¡çš„ã€‚ os æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨ è¦åœ¨ä½ çš„ Node.js ç¨‹åºä¸­ä½¿ç”¨ os æ¨¡å—ï¼Œä½ é¦–å…ˆéœ€è¦é€šè¿‡ require å‡½...">
    <link rel="stylesheet" href="/assets/css/styles.2fe8dfd0.css">
    <link rel="preload" href="/assets/js/runtime~app.e98858ae.js" as="script"><link rel="preload" href="/assets/css/styles.2fe8dfd0.css" as="style"><link rel="preload" href="/assets/js/9435.209d772b.js" as="script"><link rel="preload" href="/assets/js/app.604dc302.js" as="script">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo light" src="/assets/svg/logo.svg" alt><img class="vp-nav-logo dark" src="/assets/svg/logo.svg" alt><span class="vp-site-name hide-in-pad">hanekawa-shiki</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="åšå®¢ä¸»é¡µ"><!--[--><span class="font-icon icon home" style=""></span><!--]-->åšå®¢ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å­¦ä¹ ç¬”è®°"><!--[--><span class="font-icon icon framework" style=""></span>å­¦ä¹ ç¬”è®°<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">å‰ç«¯æ¡†æ¶</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/framework_front/vue3/" aria-label="Vue3ç¬”è®°"><!--[--><span class="font-icon icon vue" style=""></span><!--]-->Vue3ç¬”è®°<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/framework_front/react/" aria-label="Reactç¬”è®°"><!--[--><span class="font-icon icon react" style=""></span><!--]-->Reactç¬”è®°<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ–‡æ¡£"><!--[--><span class="font-icon icon framework" style=""></span>æ–‡æ¡£<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">æ¬è¿</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/document/node-doc/" aria-label="Node.jsæ–‡æ¡£"><!--[--><span class="font-icon icon circle-info" style=""></span><!--]-->Node.jsæ–‡æ¡£<!----></a></li></ul></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/hanekawa-shiki/hanekawa-shiki.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/" aria-label="Node.jsæ–‡æ¡£"><!--[--><span class="font-icon icon circle-info" style=""></span><!--]-->Node.jsæ–‡æ¡£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Assert.html" aria-label="Assert"><!---->Assert<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Async%20hooks.html" aria-label="Async hooks"><!---->Async hooks<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Asynchronous%20context%20tracking.html" aria-label="Asynchronous context tracking"><!---->Asynchronous context tracking<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Buffer.html" aria-label="Buffer"><!---->Buffer<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/C__%20addons.html" aria-label="C++ addons"><!---->C++ addons<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/C__%20embedder%20API.html" aria-label="C++ embedder API"><!---->C++ embedder API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Child%20process.html" aria-label="Child process"><!---->Child process<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Cluster.html" aria-label="Cluster"><!---->Cluster<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Command-line%20API.html" aria-label="Command-line API"><!---->Command-line API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Console.html" aria-label="Console"><!---->Console<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Corepack.html" aria-label="Corepack"><!---->Corepack<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Crypto.html" aria-label="Crypto"><!---->Crypto<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Debugger.html" aria-label="Debugger"><!---->Debugger<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Deprecated%20APIs.html" aria-label="Deprecated APIs"><!---->Deprecated APIs<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Diagnostic%20report.html" aria-label="Diagnostic report"><!---->Diagnostic report<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Diagnostics%20Channel.html" aria-label="Diagnostics Channel"><!---->Diagnostics Channel<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/DNS.html" aria-label="DNS"><!---->DNS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Domain.html" aria-label="Domain"><!---->Domain<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Errors.html" aria-label="Errors"><!---->Errors<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Events.html" aria-label="Events"><!---->Events<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/File%20system.html" aria-label="File system"><!---->File system<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Global%20objects.html" aria-label="Global objects"><!---->Global objects<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/HTTP.html" aria-label="HTTP"><!---->HTTP<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/HTTPS.html" aria-label="HTTPS"><!---->HTTPS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Inspector.html" aria-label="Inspector"><!---->Inspector<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Internationalization%20support.html" aria-label="Internationalization support"><!---->Internationalization support<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Modules-CommonJS%20modules.html" aria-label="Modules: CommonJS modules"><!---->Modules: CommonJS modules<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Modules-ECMAScript%20modules.html" aria-label="Modules: ECMAScript modules"><!---->Modules: ECMAScript modules<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Modules-node_module%20API.html" aria-label="Modules: node:module API"><!---->Modules: node:module API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Modules-Packages.html" aria-label="Modules: Packages"><!---->Modules: Packages<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Net.html" aria-label="Net"><!---->Net<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Node-API.html" aria-label="Node-API"><!---->Node-API<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/document/node-doc/OS.html" aria-label="OS"><!---->OS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Path.html" aria-label="Path"><!---->Path<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Performance%20measurement%20APIs.html" aria-label="Performance measurement APIs"><!---->Performance measurement APIs<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Permissions.html" aria-label="Permissions"><!---->Permissions<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Process.html" aria-label="Process"><!---->Process<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Punycode.html" aria-label="Punycode"><!---->Punycode<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Query%20string.html" aria-label="Query string"><!---->Query string<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Readline.html" aria-label="Readline"><!---->Readline<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/REPL.html" aria-label="REPL"><!---->REPL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Stream.html" aria-label="Stream"><!---->Stream<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/String%20decoder.html" aria-label="String decoder"><!---->String decoder<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Test%20runner.html" aria-label="Test runner"><!---->Test runner<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Timers.html" aria-label="Timers"><!---->Timers<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/TLS%20(SSL).html" aria-label="TLS (SSL)"><!---->TLS (SSL)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Trace%20events.html" aria-label="Trace events"><!---->Trace events<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/TTY.html" aria-label="TTY"><!---->TTY<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/URL.html" aria-label="URL"><!---->URL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Util.html" aria-label="Util"><!---->Util<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/V8.html" aria-label="V8"><!---->V8<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/VM%20(executing%20JavaScript).html" aria-label="VM (executing JavaScript)"><!---->VM (executing JavaScript)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Web%20Crypto%20API.html" aria-label="Web Crypto API"><!---->Web Crypto API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Web%20Streams%20API.html" aria-label="Web Streams API"><!---->Web Streams API<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/WebAssembly%20System%20Interface%20(WASI).html" aria-label="WebAssembly System Interface (WASI)"><!---->WebAssembly System Interface (WASI)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Worker%20threads.html" aria-label="Worker threads"><!---->Worker threads<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/document/node-doc/Zlib.html" aria-label="Zlib"><!---->Zlib<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->OS</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://hanekawa.top" target="_blank" rel="noopener noreferrer">hanekawa-shiki</a></span><span property="author" content="hanekawa-shiki"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-21T09:46:17.000Z"></span><!----><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 67 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT67M"></span><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 19977 å­—</span><meta property="wordCount" content="19977"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#os-æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨">os æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å°ç»“">å°ç»“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-eol">os.EOL</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¾‹å­-1-å†™å…¥æ–‡ä»¶æ—¶ä½¿ç”¨os-eol">ä¾‹å­ 1ï¼šå†™å…¥æ–‡ä»¶æ—¶ä½¿ç”¨os.EOL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¾‹å­-2-è¯»å–æ–‡ä»¶å¹¶æŒ‰è¡Œåˆ†å‰²">ä¾‹å­ 2ï¼šè¯»å–æ–‡ä»¶å¹¶æŒ‰è¡Œåˆ†å‰²</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¾‹å­-3-æ—¥å¿—è®°å½•æ—¶æ·»åŠ æ¢è¡Œ">ä¾‹å­ 3ï¼šæ—¥å¿—è®°å½•æ—¶æ·»åŠ æ¢è¡Œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-availableparallelism">os.availableParallelism()</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-arch">os.arch()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ“ä½œç³»ç»Ÿæ¶æ„">æ“ä½œç³»ç»Ÿæ¶æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ€»ç»“">æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-constants">os.constants</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¸¸è§çš„-os-constants-åˆ†ç±»">å¸¸è§çš„ os.constants åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…åº”ç”¨ç¤ºä¾‹">å®é™…åº”ç”¨ç¤ºä¾‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-cpus">os.cpus()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ä¾‹å­">å®é™…è¿ç”¨ä¾‹å­</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-devnull">os.devNull</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-endianness">os.endianness()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¤§ç«¯åº-big-endian">å¤§ç«¯åºï¼ˆBig-Endianï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å°ç«¯åº-little-endian">å°ç«¯åºï¼ˆLittle-Endianï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#os-endianness-æ–¹æ³•">os.endianness()æ–¹æ³•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-freemem">os.freemem()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨ç¤ºä¾‹-1">ä½¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨">å®é™…è¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-getpriority-pid">os.getPriority([pid])</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‚æ•°è§£é‡Š">å‚æ•°è§£é‡Š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¿”å›å€¼">è¿”å›å€¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…åº”ç”¨ç¤ºä¾‹-1">å®é™…åº”ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-homedir">os.homedir()</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-hostname">os.hostname()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹-1-æ—¥å¿—è®°å½•ä¸­æ·»åŠ ä¸»æœºå">ç¤ºä¾‹ 1ï¼šæ—¥å¿—è®°å½•ä¸­æ·»åŠ ä¸»æœºå</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹-2-åŸºäºä¸»æœºåçš„æ¡ä»¶æ‰§è¡Œ">ç¤ºä¾‹ 2ï¼šåŸºäºä¸»æœºåçš„æ¡ä»¶æ‰§è¡Œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-loadavg">os.loadavg()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç³»ç»Ÿå¹³å‡è´Ÿè½½">ç³»ç»Ÿå¹³å‡è´Ÿè½½</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#node-js-ä¸­çš„os-loadavg">Node.js ä¸­çš„os.loadavg()</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-machine">os.machine()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#os-machine-æ–¹æ³•">os.machine()æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ¶æ„çš„å«ä¹‰">æ¶æ„çš„å«ä¹‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨å®ä¾‹">å®é™…è¿ç”¨å®ä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-networkinterfaces">os.networkInterfaces()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨os-networkinterfaces-æ–¹æ³•">ä½¿ç”¨os.networkInterfaces()æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-1">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç»“è®º">ç»“è®º</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-platform">os.platform()</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-release">os.release()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨æ–¹å¼">ä½¿ç”¨æ–¹å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…åº”ç”¨ä¾‹å­">å®é™…åº”ç”¨ä¾‹å­</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-setpriority-pid-priority">os.setPriority([pid, ]priority)</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‚æ•°è¯´æ˜">å‚æ•°è¯´æ˜ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨æ–¹å¼-1">ä½¿ç”¨æ–¹å¼ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-2">å®é™…è¿ç”¨ç¤ºä¾‹ï¼š</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-tmpdir">os.tmpdir()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-3">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹ä»£ç -1">ç¤ºä¾‹ä»£ç </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-totalmem">os.totalmem()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ä¾‹å­-1">å®é™…è¿ç”¨ä¾‹å­</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-type">os.type()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#os-type-1">os.type()</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-4">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ€»ç»“-1">æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-uptime">os.uptime()</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-userinfo-options">os.userInfo([options])</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä»€ä¹ˆæ˜¯os-userinfo-options">ä»€ä¹ˆæ˜¯os.userInfo([options])</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¦‚ä½•ä½¿ç”¨">å¦‚ä½•ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‚æ•°è¯´æ˜-1">å‚æ•°è¯´æ˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…åº”ç”¨ä¸¾ä¾‹">å®é™…åº”ç”¨ä¸¾ä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ€»ç»“-2">æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-version">os.version()</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-5">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#os-constants-1">OS constants</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-é”™è¯¯ä»£ç -error-codes">1. é”™è¯¯ä»£ç ï¼ˆError Codesï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-ä¿¡å·é‡-signals">2. ä¿¡å·é‡ï¼ˆSignalsï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-æ–‡ä»¶æ“ä½œ-file-system-constants">3. æ–‡ä»¶æ“ä½œï¼ˆFile System Constantsï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#signal-constants">Signal constants</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-6">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#error-constants">Error constants</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¸¸è§é”™è¯¯å¸¸é‡">å¸¸è§é”™è¯¯å¸¸é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ä¾‹å­-2">å®é™…è¿ç”¨ä¾‹å­</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ä¾‹å­-3">å®é™…è¿ç”¨ä¾‹å­</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…è¿ç”¨ç¤ºä¾‹-7">å®é™…è¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#dlopen-constants">dlopen constants</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®é™…ä¾‹å­">å®é™…ä¾‹å­</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç»“è®º-1">ç»“è®º</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#priority-constants">Priority constants</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#libuv-constants">libuv constants</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹">ç¤ºä¾‹</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="os" tabindex="-1"><a class="header-anchor" href="#os"><span><a href="https://nodejs.org/docs/latest/api/os.html#os" target="_blank" rel="noopener noreferrer">OS</a></span></a></h1><p>Node.js æ˜¯ä¸€ä¸ªèƒ½è®©å¼€å‘è€…ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯ä»£ç çš„å¹³å°ã€‚åœ¨ Node.js ä¸­ï¼Œæœ‰å¾ˆå¤šå†…ç½®æ¨¡å—å¸®åŠ©ä½ å®Œæˆå„ç§ä»»åŠ¡ï¼Œæ¯”å¦‚è¯»å†™æ–‡ä»¶ã€ç½‘ç»œé€šä¿¡ç­‰ã€‚å…¶ä¸­ï¼Œ<code>os</code> æ¨¡å—å°±æ˜¯ä¸ºäº†è®©ä½ èƒ½å¤ŸæŸ¥è¯¢å’Œæ“ä½œæ“ä½œç³»ç»Ÿçº§åˆ«çš„ä¿¡æ¯è€Œè®¾è®¡çš„ã€‚</p><h3 id="os-æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#os-æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨"><span><code>os</code> æ¨¡å—çš„åŸºæœ¬ä½¿ç”¨</span></a></h3><p>è¦åœ¨ä½ çš„ Node.js ç¨‹åºä¸­ä½¿ç”¨ <code>os</code> æ¨¡å—ï¼Œä½ é¦–å…ˆéœ€è¦é€šè¿‡ <code>require</code> å‡½æ•°å°†å…¶å¯¼å…¥ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¸€æ—¦å¯¼å…¥ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ <code>os</code> æ¨¡å—æä¾›çš„å„ç§æ–¹æ³•äº†ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®é™…åº”ç”¨çš„ä¾‹å­ï¼š</p><h4 id="_1-è·å–å½“å‰æœºå™¨çš„ä¸»æœºå" tabindex="-1"><a class="header-anchor" href="#_1-è·å–å½“å‰æœºå™¨çš„ä¸»æœºå"><span>1. è·å–å½“å‰æœºå™¨çš„ä¸»æœºå</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºç±»ä¼¼äº &#39;DESKTOP-ABC123&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨éœ€è¦å±•ç¤ºæˆ–è®°å½•å½“å‰è®¡ç®—æœºåç§°çš„åœºæ™¯ä¸‹ä½¿ç”¨ï¼Œæ¯”å¦‚æ—¥å¿—è®°å½•æˆ–è€…ç®€å•çš„ç”¨æˆ·ç•Œé¢æ˜¾ç¤ºã€‚</p><h4 id="_2-æŸ¥è¯¢ç³»ç»Ÿçš„å†…å­˜æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#_2-æŸ¥è¯¢ç³»ç»Ÿçš„å†…å­˜æƒ…å†µ"><span>2. æŸ¥è¯¢ç³»ç»Ÿçš„å†…å­˜æƒ…å†µ</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`Total Memory: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">totalmem</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`Free Memory: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">freemem</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºå¯èƒ½æ˜¯ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// Total Memory: 17179869184</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// Free Memory: 4236247040</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«è¿”å›ç³»ç»Ÿçš„æ€»å†…å­˜å’Œç©ºé—²å†…å­˜ï¼ˆå•ä½æ˜¯å­—èŠ‚ï¼‰ã€‚è¿™åœ¨è¯„ä¼°å½“å‰æœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µæˆ–è€…å†³å®šæ˜¯å¦éœ€è¦å¢åŠ é¢å¤–èµ„æºæ—¶éå¸¸æœ‰ç”¨ã€‚</p><h4 id="_3-è·å–æ“ä½œç³»ç»Ÿå¹³å°" tabindex="-1"><a class="header-anchor" href="#_3-è·å–æ“ä½œç³»ç»Ÿå¹³å°"><span>3. è·å–æ“ä½œç³»ç»Ÿå¹³å°</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">platform</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å¯èƒ½çš„è¾“å‡ºï¼š&#39;darwin&#39;, &#39;win32&#39;, &#39;linux&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ–¹æ³•å¯å¸®åŠ©ä½ è¯†åˆ«ç¨‹åºæ­£åœ¨è¿è¡Œçš„æ“ä½œç³»ç»Ÿç±»å‹ï¼Œä»è€Œå¯ä»¥è¿›è¡Œä¸€äº›å¹³å°ç‰¹å®šçš„æ“ä½œï¼Œæ¯”å¦‚è·¯å¾„å¤„ç†å·®å¼‚ç­‰ã€‚</p><h4 id="_4-æŸ¥çœ‹-cpu-ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_4-æŸ¥çœ‹-cpu-ä¿¡æ¯"><span>4. æŸ¥çœ‹ CPU ä¿¡æ¯</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cpus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºå…³äºç³»ç»ŸCPUçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‹å·ã€é€Ÿåº¦ï¼ˆä»¥MHzè®¡ï¼‰å’Œæ¯ä¸ªæ ¸å¿ƒçš„æ—¶é—´ç»Ÿè®¡ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å¯¹äºç†è§£ç³»ç»Ÿæ€§èƒ½çŠ¶å†µæˆ–è¿›è¡Œè´Ÿè½½åˆ†é…ç­–ç•¥éå¸¸é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨è®¾è®¡é«˜æ€§èƒ½åº”ç”¨æ—¶ã€‚</p><h4 id="_5-è·å–ç³»ç»Ÿçš„å¯åŠ¨æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_5-è·å–ç³»ç»Ÿçš„å¯åŠ¨æ—¶é—´"><span>5. è·å–ç³»ç»Ÿçš„å¯åŠ¨æ—¶é—´</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`System Uptime: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">uptime</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºç³»ç»Ÿå·²ç»è¿è¡Œçš„ç§’æ•°</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œæ—¶é—´å¯ä»¥ä½œä¸ºç³»ç»Ÿç¨³å®šæ€§çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚åœ¨ç›‘æ§ç³»ç»Ÿæˆ–è¿›è¡Œæ•…éšœæ’æŸ¥æ—¶ï¼Œäº†è§£ç³»ç»Ÿçš„è¿è¡Œæ—¶é—´æ˜¯éå¸¸æœ‰ä»·å€¼çš„ã€‚</p><h3 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“"><span>å°ç»“</span></a></h3><p><code>os</code> æ¨¡å—ä¸º Node.js åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„æ¥å£ï¼Œä»¥ä¾¿ä¸åº•å±‚æ“ä½œç³»ç»Ÿäº¤äº’ã€‚æ— è®ºæ˜¯è·å–ç³»ç»Ÿä¿¡æ¯ï¼Œç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µï¼Œè¿˜æ˜¯è°ƒæ•´åº”ç”¨ç¨‹åºä»¥æ›´å¥½åœ°é€‚åº”ä¸åŒçš„æ“ä½œç¯å¢ƒï¼Œ<code>os</code> æ¨¡å—éƒ½æ˜¯éå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œä½ å¯ä»¥å¼€å§‹æ¢ç´¢ <code>os</code> æ¨¡å—æä¾›çš„å…¶ä»–åŠŸèƒ½ï¼Œå¹¶å°†å…¶åº”ç”¨åˆ°ä½ çš„ Node.js åº”ç”¨æˆ–è„šæœ¬ä¸­å»ã€‚</p><h2 id="os-eol" tabindex="-1"><a class="header-anchor" href="#os-eol"><span><a href="https://nodejs.org/docs/latest/api/os.html#oseol" target="_blank" rel="noopener noreferrer">os.EOL</a></span></a></h2><p><code>os.EOL</code>æ˜¯ Node.js ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå±äº<code>os</code>æ¨¡å—ã€‚<code>EOL</code>ä»£è¡¨â€œEnd Of Lineâ€ï¼Œæ„æ€æ˜¯è¡Œå°¾ç¬¦æˆ–æ¢è¡Œç¬¦ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¡Œå°¾ç¬¦å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼Œåœ¨ Unix/Linux ç³»ç»Ÿä¸­é€šå¸¸ä½¿ç”¨<code>\n</code>ä½œä¸ºæ¢è¡Œç¬¦ï¼Œè€Œ Windows ç³»ç»Ÿä¸­é€šå¸¸ä½¿ç”¨<code>\r\n</code>ã€‚</p><p>åœ¨ Node.js ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>os.EOL</code>æ¥è·å–å½“å‰æ“ä½œç³»ç»Ÿçš„é»˜è®¤è¡Œå°¾ç¬¦ï¼Œè¿™æ ·å†™å‡ºçš„ä»£ç å°±èƒ½å¤Ÿè·¨å¹³å°å·¥ä½œï¼Œä¸å¿…æ‹…å¿ƒå› ä¸ºç¡¬ç¼–ç äº†ç‰¹å®šæ“ä½œç³»ç»Ÿçš„è¡Œå°¾ç¬¦è€Œå¯¼è‡´çš„é—®é¢˜ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå¹¶ä¸”å¸Œæœ›è¿™ä¸ªæ–‡ä»¶åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­éƒ½èƒ½æ­£ç¡®åœ°æ˜¾ç¤ºæ¢è¡Œï¼Œä½ å¯ä»¥ä½¿ç”¨<code>os.EOL</code>ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå®é™…çš„è¿ç”¨ä¾‹å­ï¼š</p><h3 id="ä¾‹å­-1-å†™å…¥æ–‡ä»¶æ—¶ä½¿ç”¨os-eol" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-1-å†™å…¥æ–‡ä»¶æ—¶ä½¿ç”¨os-eol"><span>ä¾‹å­ 1ï¼šå†™å…¥æ–‡ä»¶æ—¶ä½¿ç”¨<code>os.EOL</code></span></a></h3><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ç¬¬ä¸€è¡Œæ–‡æœ¬&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EOL</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ç¬¬äºŒè¡Œæ–‡æœ¬&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EOL</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ç¬¬ä¸‰è¡Œæ–‡æœ¬&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;example.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ–‡ä»¶å·²è¢«ä¿å­˜ï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ­£ç¡®çš„è¡Œå°¾ç¬¦ï¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸‰è¡Œæ–‡æœ¬ï¼Œæ¯ä¸€è¡Œåé¢éƒ½åŠ ä¸Šäº†å½“å‰æ“ä½œç³»ç»Ÿçš„è¡Œå°¾ç¬¦ã€‚ç„¶åä½¿ç”¨<code>fs.writeFile</code>å°†è¿™äº›æ–‡æœ¬ä¿å­˜åˆ°<code>example.txt</code>æ–‡ä»¶ä¸­ã€‚è¿™æ ·æ— è®ºä½ çš„ä»£ç åœ¨å“ªç§æ“ä½œç³»ç»Ÿä¸‹æ‰§è¡Œï¼Œç”Ÿæˆçš„æ–‡ä»¶éƒ½ä¼šä¿æŒæ­£ç¡®çš„æ¢è¡Œæ ¼å¼ã€‚</p><h3 id="ä¾‹å­-2-è¯»å–æ–‡ä»¶å¹¶æŒ‰è¡Œåˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-2-è¯»å–æ–‡ä»¶å¹¶æŒ‰è¡Œåˆ†å‰²"><span>ä¾‹å­ 2ï¼šè¯»å–æ–‡ä»¶å¹¶æŒ‰è¡Œåˆ†å‰²</span></a></h3><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;example.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;utf8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // ä½¿ç”¨os.EOLåˆ†å‰²æ–‡æœ¬ï¼Œå¾—åˆ°ä¸€ä¸ªåŒ…å«æ¯è¡Œå†…å®¹çš„æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> lines</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EOL</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  lines</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">line</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`ç¬¬</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¡Œ: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">line</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è¯»å–äº†ä¹‹å‰ä¿å­˜çš„<code>example.txt</code>æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨<code>os.EOL</code>æ¥åˆ†å‰²è·å–åˆ°çš„æ–‡æœ¬æ•°æ®ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ¯ä¸€é¡¹éƒ½æ˜¯å•ç‹¬ä¸€è¡Œçš„æ•°ç»„ã€‚é€šè¿‡éå†è¿™ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†æ¯ä¸€è¡Œçš„å†…å®¹ã€‚</p><h3 id="ä¾‹å­-3-æ—¥å¿—è®°å½•æ—¶æ·»åŠ æ¢è¡Œ" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-3-æ—¥å¿—è®°å½•æ—¶æ·»åŠ æ¢è¡Œ"><span>ä¾‹å­ 3ï¼šæ—¥å¿—è®°å½•æ—¶æ·»åŠ æ¢è¡Œ</span></a></h3><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> logMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">toISOString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fullMessage</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> `[</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">timestamp</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EOL</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">appendFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;app.log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fullMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ—¥å¿—ä¿¡æ¯å·²è¢«è¿½åŠ åˆ°æ–‡ä»¶ä¸­ï¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">logMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;è¿™æ˜¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">logMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;è¿™æ˜¯å¦ä¸€æ¡æ—¥å¿—ä¿¡æ¯ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>logMessage</code>å‡½æ•°ï¼Œå®ƒåœ¨ä¼ å…¥çš„æ¶ˆæ¯åé¢æ·»åŠ ä¸€ä¸ªæ—¶é—´æˆ³å’Œè¡Œå°¾ç¬¦ï¼Œå¹¶å°†å…¶è¿½åŠ åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿æ—¥å¿—æ–‡ä»¶ä¸­çš„æ¯æ¡æ¶ˆæ¯éƒ½åœ¨æ–°çš„ä¸€è¡Œå¼€å§‹ï¼Œæ–¹ä¾¿é˜…è¯»å’Œç®¡ç†ã€‚</p><p>æ€»ç»“èµ·æ¥ï¼Œ<code>os.EOL</code>æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å±æ€§ï¼Œå®ƒå¸®åŠ©ä½ çš„åº”ç”¨ç¨‹åºæ›´å¥½åœ°é€‚åº”ä¸åŒçš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œä½¿å¾—å¤„ç†æ–‡æœ¬æ–‡ä»¶ä¸­çš„æ¢è¡Œå˜å¾—éå¸¸ç®€å•ã€‚</p><h2 id="os-availableparallelism" tabindex="-1"><a class="header-anchor" href="#os-availableparallelism"><span><a href="https://nodejs.org/docs/latest/api/os.html#osavailableparallelism" target="_blank" rel="noopener noreferrer">os.availableParallelism()</a></span></a></h2><p>åœ¨ Node.js v21.7.1 ä¸­ï¼Œ<code>os.availableParallelism()</code> æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å‡½æ•°ï¼Œå®ƒå±äº <code>os</code>ï¼ˆæ“ä½œç³»ç»Ÿï¼‰æ¨¡å—ã€‚è¿™ä¸ªå‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯è®©ä½ çŸ¥é“ä½ çš„è®¡ç®—æœºåœ¨ä¸å¢åŠ ç¡¬ä»¶å»¶è¿Ÿçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤ŸåŒæ—¶æ‰§è¡Œå¤šå°‘ä¸ªæ“ä½œæˆ–è€…ä»»åŠ¡ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒèƒ½å‘Šè¯‰ä½ ä½ çš„ç”µè„‘æœ‰å¤šå°‘ä¸ªâ€œå·¥ä½œå•ä½â€å¯ä»¥ç”¨æ¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ã€‚</p><p>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼š</p><ol><li><p><strong>å¤šçº¿ç¨‹åº”ç”¨</strong>ï¼šå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦è¿›è¡Œå¤§é‡è®¡ç®—çš„åº”ç”¨ï¼Œå¦‚è§†é¢‘å¤„ç†æˆ–å¤§æ•°æ®åˆ†æã€‚é€šè¿‡ä½¿ç”¨<code>os.availableParallelism()</code>ï¼Œä½ å¯ä»¥ç¡®å®šæœ‰å¤šå°‘ä¸ªæ ¸å¿ƒå¯ç”¨äºå¹¶è¡Œå¤„ç†ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ•°å­—æ¥ä¼˜åŒ–ä½ çš„åº”ç”¨ï¼Œè®©æ¯ä¸ªæ ¸å¿ƒéƒ½åœ¨åšäº‹ï¼Œä»è€Œæé«˜æ•´ä½“çš„å¤„ç†é€Ÿåº¦ã€‚</p></li><li><p><strong>Web æœåŠ¡å™¨</strong>ï¼šå¦‚æœä½ æ­£åœ¨è¿è¡Œä¸€ä¸ª Node.js Web æœåŠ¡å™¨ï¼Œäº†è§£å¯ç”¨çš„å¹¶è¡Œæ€§å¯ä»¥å¸®åŠ©ä½ å†³å®šåŒæ—¶å¯ä»¥å¤„ç†å¤šå°‘ä¸ªè¯·æ±‚ã€‚è¿™å¯ä»¥æŒ‡å¯¼ä½ å¦‚ä½•è®¾ç½®ä½ çš„æœåŠ¡å™¨ï¼Œä»¥ä¾¿å®ƒæ—¢ä¸ä¼šå› ä¸ºå¤„ç†å¤ªå¤šçš„è¯·æ±‚è€Œå˜æ…¢ï¼Œä¹Ÿä¸ä¼šå› ä¸ºèµ„æºæœªå……åˆ†åˆ©ç”¨è€Œæµªè´¹ã€‚</p></li><li><p><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šåœ¨æ„å»ºéœ€è¦è¿›è¡Œè´Ÿè½½å‡è¡¡çš„ç³»ç»Ÿæ—¶ï¼Œ<code>os.availableParallelism()</code>æä¾›çš„ä¿¡æ¯å¯ä»¥å¸®åŠ©ä½ å†³å®šå¦‚ä½•åˆ†é…ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªäº‘è®¡ç®—ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥æ ¹æ®æ¯ä¸ªèŠ‚ç‚¹çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›æ¥åŠ¨æ€åˆ†é…ä»»åŠ¡ï¼Œç¡®ä¿æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½èƒ½é«˜æ•ˆåœ°å·¥ä½œã€‚</p></li></ol><p>å¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿéå¸¸ç®€å•ã€‚é¦–å…ˆï¼Œä½ éœ€è¦å¼•å…¥ Node.js çš„<code>os</code>æ¨¡å—ï¼Œç„¶åå°±å¯ä»¥è°ƒç”¨<code>os.availableParallelism()</code>äº†ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  `ä½ çš„ç³»ç»Ÿå¯ä»¥å¹¶è¡Œå¤„ç†çš„æœ€å¤§ä»»åŠ¡æ•°é‡æ˜¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">availableParallelism</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™è¡Œä»£ç ä¼šè¾“å‡ºä½ çš„ç³»ç»Ÿå¯ä»¥å¹¶è¡Œå¤„ç†çš„æœ€å¤§ä»»åŠ¡æ•°é‡ã€‚è¿™ä¸ªæ•°å­—æ˜¯æ ¹æ®ä½ çš„è®¡ç®—æœºçš„ç¡¬ä»¶é…ç½®ï¼Œç‰¹åˆ«æ˜¯ CPU çš„æ ¸å¿ƒæ•°æ¥å†³å®šçš„ã€‚å¦‚æœä½ çš„ CPU æ”¯æŒè¶…çº¿ç¨‹ï¼ˆHyper-Threadingï¼‰ï¼Œè¿™ä¸ªæ•°å­—å¯èƒ½ä¼šæ¯”ä½ çš„ç‰©ç†æ ¸å¿ƒæ•°æ›´é«˜ã€‚</p><p>æ€»ä¹‹ï¼Œ<code>os.availableParallelism()</code>æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œåˆ©ç”¨ä½ çš„ç³»ç»Ÿèµ„æºï¼Œæ— è®ºæ˜¯è¿›è¡Œé«˜æ€§èƒ½è®¡ç®—ã€ä¼˜åŒ– Web æœåŠ¡å™¨çš„å“åº”èƒ½åŠ›ï¼Œè¿˜æ˜¯è¿›è¡Œæ™ºèƒ½çš„è´Ÿè½½å‡è¡¡ã€‚</p><h2 id="os-arch" tabindex="-1"><a class="header-anchor" href="#os-arch"><span><a href="https://nodejs.org/docs/latest/api/os.html#osarch" target="_blank" rel="noopener noreferrer">os.arch()</a></span></a></h2><p>Node.js çš„ <code>os.arch()</code> å‡½æ•°æ˜¯ä¸€ä¸ªç®€å•ä½†éå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œå®ƒå±äº <code>os</code> æ¨¡å—ã€‚è¿™ä¸ªå‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º Node.js äºŒè¿›åˆ¶ç¼–è¯‘æ—¶æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ¶æ„ã€‚äº†è§£ä½ çš„ç¨‹åºè¿è¡Œåœ¨å“ªç§ç±»å‹çš„ç³»ç»Ÿæ¶æ„ä¸Šå¾ˆé‡è¦ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå½±å“ä½ çš„ç¨‹åºçš„æ€§èƒ½æˆ–å…¼å®¹æ€§ã€‚</p><h3 id="æ“ä½œç³»ç»Ÿæ¶æ„" tabindex="-1"><a class="header-anchor" href="#æ“ä½œç³»ç»Ÿæ¶æ„"><span>æ“ä½œç³»ç»Ÿæ¶æ„</span></a></h3><p>&quot;æ¶æ„&quot;åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ä½ çš„è®¡ç®—æœºå¤„ç†å™¨çš„è®¾è®¡ã€‚æœ€å¸¸è§çš„æ¶æ„åŒ…æ‹¬ï¼š</p><ul><li><code>x64</code>ï¼šä»£è¡¨ 64 ä½çš„ Intel æˆ– AMD å¤„ç†å™¨ï¼Œç›®å‰æœ€ä¸ºæ™®éã€‚</li><li><code>arm</code>ï¼šç”¨äºè®¸å¤šç§»åŠ¨è®¾å¤‡çš„å¤„ç†å™¨æ¶æ„ã€‚</li><li><code>arm64</code>ï¼šæ˜¯ ARM æ¶æ„çš„ 64 ä½ç‰ˆæœ¬ï¼Œç”¨äºè¾ƒæ–°çš„ç§»åŠ¨è®¾å¤‡å’Œä¸€äº›æœåŠ¡å™¨ã€‚</li><li><code>ia32</code>ï¼šä»£è¡¨ 32 ä½çš„ Intel æˆ– AMD å¤„ç†å™¨ï¼Œç°åœ¨ä¸å¤ªå¸¸è§ã€‚</li></ul><h3 id="ä½¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹"><span>ä½¿ç”¨ç¤ºä¾‹</span></a></h3><ol><li><strong>åˆ¤æ–­è¿è¡Œç¯å¢ƒ</strong>ï¼šå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåº”ç”¨ï¼Œè¿™ä¸ªåº”ç”¨éœ€è¦æ ¹æ®è¿è¡Œå®ƒçš„è®¡ç®—æœºçš„æ¶æ„æ¥å†³å®šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„æŸä¸ªä¾èµ–åº“ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>os.arch()</code> æ¥å¸®åŠ©ä½ åšå‡ºå†³å®šã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">arch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;x64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ä½¿ç”¨64ä½ç‰ˆæœ¬çš„åº“&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;arm&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;arm64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ä½¿ç”¨é€‚åˆARMæ¶æ„çš„åº“&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æœªçŸ¥æ¶æ„ï¼Œå°è¯•é€šç”¨è§£å†³æ–¹æ¡ˆ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>æ—¥å¿—è®°å½•ä¸è°ƒè¯•</strong>ï¼šå½“ä½ æ”¶é›†åº”ç”¨çš„è¿è¡Œæ—¥å¿—ä»¥ä¾¿åç»­åˆ†æé—®é¢˜æ—¶ï¼Œè®°å½•ä¸‹åº”ç”¨è¿è¡Œçš„ç³»ç»Ÿæ¶æ„å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚è¿™æ ·ï¼Œå¦‚æœå‡ºç°ç‰¹å®šäºæ¶æ„çš„é—®é¢˜ï¼Œä½ å¯ä»¥æ›´å¿«åœ°å®šä½å¹¶è§£å†³é—®é¢˜ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`åº”ç”¨å¯åŠ¨ï¼Œè¿è¡Œåœ¨</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">arch</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">æ¶æ„ä¸Š`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šåœ¨ä¸€äº›æ€§èƒ½æ•æ„Ÿçš„åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®ä¸åŒçš„æ¶æ„é‡‡å–ä¸åŒçš„ä¼˜åŒ–ç­–ç•¥ã€‚æ¯”å¦‚ï¼Œåœ¨ 64 ä½æ¶æ„ä¸Šï¼Œä½ å¯èƒ½ä¼šé‡‡ç”¨æ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„æˆ–ç®—æ³•ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">arch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;x64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;å¯ç”¨ç‰¹å®šäº64ä½çš„ä¼˜åŒ–&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h3><p>é€šè¿‡ <code>os.arch()</code>ï¼ŒNode.js å…è®¸ä½ åœ¨ä»£ç ä¸­è·å¾—å½“å‰è¿è¡Œçš„ç³»ç»Ÿæ¶æ„ä¿¡æ¯ã€‚è¿™å¯¹äºç¡®ä¿åº”ç”¨çš„å…¼å®¹æ€§ã€è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œç”šè‡³æ˜¯åœ¨è¿è¡Œæ—¶é€‰æ‹©æ­£ç¡®çš„èµ„æºæˆ–ä¾èµ–éƒ½æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¸Šè¿°ä¾‹å­å±•ç¤ºäº†å‡ ç§ <code>os.arch()</code> å¯ä»¥è¢«å®é™…ä½¿ç”¨çš„æƒ…å†µï¼Œä½†æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹å¼å¯ä»¥åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚</p><h2 id="os-constants" tabindex="-1"><a class="header-anchor" href="#os-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#osconstants" target="_blank" rel="noopener noreferrer">os.constants</a></span></a></h2><p>Node.js çš„ <code>os.constants</code> æ˜¯ä¸€éƒ¨åˆ† Node.js æä¾›çš„æ“ä½œç³»ç»Ÿç›¸å…³å¸¸é‡çš„é›†åˆã€‚è¿™äº›å¸¸é‡ä¸ºæˆ‘ä»¬æä¾›äº†æœ‰å…³ç³»ç»Ÿé”™è¯¯ã€è¿›ç¨‹ä¿¡å·ç­‰æ–¹é¢çš„æ ‡å‡†å€¼ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå†™å‡ºæ›´å¥å£®ã€æ›´å…·å¯ç§»æ¤æ€§çš„åº”ç”¨ç¨‹åºä»£ç ã€‚</p><h3 id="å¸¸è§çš„-os-constants-åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#å¸¸è§çš„-os-constants-åˆ†ç±»"><span>å¸¸è§çš„ <code>os.constants</code> åˆ†ç±»</span></a></h3><ol><li><strong>é”™è¯¯ç  (Error Codes)</strong>: è¿™äº›å¸¸é‡ä»£è¡¨äº†æ“ä½œç³»ç»Ÿå±‚é¢å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ç ã€‚ä¾‹å¦‚ï¼Œ<code>EADDRINUSE</code> è¡¨ç¤ºä¸€ä¸ªç½‘ç»œç«¯å£å·²ç»è¢«å ç”¨ã€‚</li><li><strong>ä¿¡å·é‡ (Signals)</strong>: è¿™äº›æ˜¯è¿›ç¨‹é—´é€šè®¯ä½¿ç”¨çš„ä¿¡å·é‡ï¼Œä¾‹å¦‚ <code>SIGKILL</code> ç”¨äºç»ˆæ­¢è¿›ç¨‹ã€‚</li><li><strong>ä¼˜å…ˆçº§ (Priority)</strong>: ç‰¹å®šäºè¿›ç¨‹ä¼˜å…ˆçº§çš„å¸¸é‡ï¼Œä¾‹å¦‚ <code>os.constants.priority.PRIORITY_HIGH</code>ã€‚</li><li><strong>æ–‡ä»¶ç³»ç»Ÿæ ‡å¿— (File System Flags)</strong>: åœ¨è¿›è¡Œæ–‡ä»¶æ“ä½œæ—¶ä½¿ç”¨çš„æ ‡å¿—ï¼Œå¦‚ <code>os.constants.fs.O_WRONLY</code> ä»£è¡¨åªå†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶ã€‚</li></ol><h3 id="å®é™…åº”ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨ç¤ºä¾‹"><span>å®é™…åº”ç”¨ç¤ºä¾‹</span></a></h3><p><strong>å¤„ç†é”™è¯¯ï¼š</strong><br> åœ¨è¿›è¡Œç½‘ç»œç¼–ç¨‹æˆ–æ–‡ä»¶ç³»ç»Ÿæ“ä½œæ—¶ï¼Œäº†è§£å…·ä½“çš„é”™è¯¯ç±»å‹éå¸¸é‡è¦ã€‚åˆ©ç”¨ <code>os.constants</code> ä¸­çš„é”™è¯¯ç ï¼Œæˆ‘ä»¬å¯ä»¥æ›´ç²¾ç¡®åœ°ç¡®å®šé”™è¯¯åŸå› å¹¶ä½œå‡ºç›¸åº”å¤„ç†ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/path/to/file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EACCES</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;é”™è¯¯ï¼šæ²¡æœ‰æƒé™å†™å…¥æ–‡ä»¶ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">ENOENT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;é”™è¯¯ï¼šæŒ‡å®šçš„è·¯å¾„ä¸å­˜åœ¨ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // å¤„ç†å…¶ä»–é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¤„ç†è¿›ç¨‹ä¿¡å·ï¼š</strong><br> åœ¨ Node.js åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½éœ€è¦å¤„ç†å¤–éƒ¨å¯¹ä½ çš„åº”ç”¨å‘é€çš„ä¿¡å·ï¼Œæ¯”å¦‚è¦æ±‚åº”ç”¨å¹³æ»‘é€€å‡ºã€‚<code>os.constants.signals</code> æä¾›äº†ä¿¡å·çš„åˆ—è¡¨ï¼Œä»¥ä¾¿è¯†åˆ«å’Œå“åº”è¿™äº›ä¿¡å·ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">signals</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">SIGINT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ¥æ”¶åˆ° SIGINTï¼Œå‡†å¤‡é€€å‡º...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // æ¸…ç†èµ„æºï¼Œå¹³æ»‘é€€å‡º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è®¾ç½®æ–‡ä»¶ç³»ç»Ÿæ“ä½œæ ‡å¿—ï¼š</strong><br> åœ¨ä½¿ç”¨ <code>fs</code> æ¨¡å—è¿›è¡Œæ–‡ä»¶æ“ä½œæ—¶ï¼Œé€šè¿‡ <code>os.constants.fs</code> ä¸­å®šä¹‰çš„æ ‡å¿—ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ–‡ä»¶çš„è¡Œä¸ºï¼ˆå¦‚åªè¯»ã€åªå†™ï¼‰ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;/path/to/file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">O_RDWR</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">O_CREAT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦ `fd` è¿›è¡Œè¯»å†™æ“ä½œ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸Šè¿°ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>os.constants</code> å¦‚ä½•åœ¨å®é™…çš„ Node.js åº”ç”¨ç¨‹åºå¼€å‘ä¸­è¢«ä½¿ç”¨ï¼Œå®ƒä»¬å¸®åŠ©æˆ‘ä»¬ç¼–å†™ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„æ›´åŠ å¯é å’Œå¯ç§»æ¤çš„ä»£ç ã€‚</p><h2 id="os-cpus" tabindex="-1"><a class="header-anchor" href="#os-cpus"><span><a href="https://nodejs.org/docs/latest/api/os.html#oscpus" target="_blank" rel="noopener noreferrer">os.cpus()</a></span></a></h2><p>Node.js çš„ <code>os.cpus()</code> å‡½æ•°æ˜¯ Node.js ä¸­å†…ç½®çš„æ“ä½œç³»ç»Ÿï¼ˆosï¼‰æ¨¡å—çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªå‡½æ•°ç”¨æ¥è·å–å½“å‰æœºå™¨çš„ CPU ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¯ä¸ª CPU æ ¸å¿ƒçš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>å½“ä½ è°ƒç”¨ <code>os.cpus()</code> æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ª CPU æ ¸å¿ƒçš„ä¿¡æ¯ã€‚å¯¹è±¡ä¸­åŒ…å«äº†å¦‚ä¸‹å±æ€§ï¼š</p><ul><li>modelï¼šå­—ç¬¦ä¸²ç±»å‹ï¼Œè¡¨ç¤º CPU çš„å‹å·ã€‚</li><li>speedï¼šæ•°å­—ç±»å‹ï¼Œè¡¨ç¤º CPU çš„é€Ÿåº¦ï¼Œå•ä½æ˜¯ MHzã€‚</li><li>timesï¼šå¯¹è±¡ç±»å‹ï¼Œè¡¨ç¤º CPU èŠ±åœ¨ä¸åŒç±»å‹ä»»åŠ¡ä¸Šçš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚è¿™ä¸ªå¯¹è±¡é€šå¸¸åŒ…å«ä»¥ä¸‹å±æ€§ï¼š <ul><li>userï¼šCPU è¿è¡Œç”¨æˆ·è¿›ç¨‹çš„æ—¶é—´ã€‚</li><li>niceï¼šCPU è¿è¡Œä¼˜å…ˆçº§è¾ƒä½ï¼ˆnice å€¼è¾ƒé«˜ï¼‰çš„ç”¨æˆ·è¿›ç¨‹çš„æ—¶é—´ã€‚</li><li>sysï¼šCPU è¿è¡Œç³»ç»Ÿè¿›ç¨‹çš„æ—¶é—´ã€‚</li><li>idleï¼šCPU å¤„äºé—²ç½®çŠ¶æ€çš„æ—¶é—´ã€‚</li><li>irqï¼šCPU å¤„ç†ç¡¬ä»¶ä¸­æ–­è¯·æ±‚çš„æ—¶é—´ã€‚</li></ul></li></ul><h3 id="å®é™…è¿ç”¨ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ä¾‹å­"><span>å®é™…è¿ç”¨ä¾‹å­</span></a></h3><ol><li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šå¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦ç›‘æ§æœåŠ¡å™¨æ€§èƒ½çš„åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥ä½¿ç”¨<code>os.cpus()</code>æ¥è·å– CPU çš„å®æ—¶çŠ¶æ€å’Œè´Ÿè½½æƒ…å†µã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–CPUä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> cpus</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cpus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">cpus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cpu</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`CPU#</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`Model: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">cpu</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">model</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`Speed: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">cpu</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">speed</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">MHz`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // CPUæ—¶é—´ç»Ÿè®¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Times:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">cpu</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">times</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šå¦‚æœä½ è¦ç¼–å†™ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæˆ–è¿›è¡Œä»»åŠ¡è°ƒåº¦ï¼Œäº†è§£å¤šæ ¸ CPU çš„å…·ä½“ä¿¡æ¯å’Œæ¯ä¸ªæ ¸å¿ƒçš„ä½¿ç”¨çŠ¶å†µå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°è¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œä»¥è¾¾åˆ°è´Ÿè½½å‡è¡¡ã€‚</p></li><li><p><strong>ç³»ç»Ÿå¥åº·è¯Šæ–­</strong>ï¼šé€šè¿‡æ£€æŸ¥ CPU çš„é—²ç½®æ—¶é—´ï¼ˆidleï¼‰ï¼Œä½ å¯ä»¥åˆ¤æ–­å‡ºç³»ç»Ÿæ˜¯å¦å¤„äºè¿‡è½½çŠ¶æ€ã€‚å¦‚æœä¸€ä¸ª CPU æ ¸å¿ƒé•¿æ—¶é—´æ²¡æœ‰é—²ç½®æ—¶é—´ï¼Œå¯èƒ½æ„å‘³ç€ä½ çš„ç³»ç»Ÿéœ€è¦æ‰©å±•æˆ–ä¼˜åŒ–ã€‚</p></li></ol><p>è¯·æ³¨æ„ï¼Œ<code>os.cpus()</code> åªæ˜¯æä¾›äº† CPU çš„å¿«ç…§ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³è¿›è¡ŒæŒç»­çš„ç›‘æ§ï¼Œä½ éœ€è¦å®šæ—¶è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦å­˜å‚¨å†å²æ•°æ®è¿›è¡Œæ¯”å¯¹å’Œåˆ†æã€‚</p><h2 id="os-devnull" tabindex="-1"><a class="header-anchor" href="#os-devnull"><span><a href="https://nodejs.org/docs/latest/api/os.html#osdevnull" target="_blank" rel="noopener noreferrer">os.devNull</a></span></a></h2><p>Node.js çš„<code>os.devNull</code>æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç³»ç»Ÿç‰¹å®šçš„è·¯å¾„ï¼ŒæŒ‡å‘ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶è¢«ç§°ä¸º&quot;ç©ºè®¾å¤‡&quot;ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œç©ºè®¾å¤‡æœ‰ä¸åŒçš„åç§°å’Œç”¨é€”ï¼š</p><ul><li>åœ¨ Unix å’Œç±» Unix ç³»ç»Ÿï¼ˆæ¯”å¦‚ Linux å’Œ macOSï¼‰ä¸­ï¼Œè¿™ä¸ªç©ºè®¾å¤‡é€šå¸¸è¢«ç§°ä¸º<code>/dev/null</code>ã€‚</li><li>åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªç©ºè®¾å¤‡è¢«ç§°ä¸º<code>nul</code>ã€‚</li></ul><p><code>os.devNull</code>å±æ€§çš„ä½œç”¨å°±æ˜¯æ ¹æ®ä½ è¿è¡Œ Node.js çš„æ“ä½œç³»ç»Ÿï¼Œè‡ªåŠ¨ç»™å‡ºå¯¹åº”çš„ç©ºè®¾å¤‡è·¯å¾„ã€‚ä½¿ç”¨è¿™ä¸ªç©ºè®¾å¤‡å¯ä»¥æœ‰å¾ˆå¤šå®é™…çš„ç”¨å¤„ï¼Œæ¯”å¦‚ï¼š</p><ol><li><strong>å¿½ç•¥ä¸éœ€è¦çš„è¾“å‡º</strong>ï¼š<br> å¦‚æœä½ æœ‰ä¸€ä¸ªç¨‹åºäº§ç”Ÿäº†å¾ˆå¤šè¾“å‡ºï¼Œä½†ä½ ä¸æƒ³è¦è¿™äº›è¾“å‡ºæ˜¾ç¤ºåœ¨ç»ˆç«¯æˆ–è€…è®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ°<code>os.devNull</code>ã€‚ä¾‹å¦‚ï¼Œåœ¨ Node.js çš„å­è¿›ç¨‹æ¨¡å—ï¼ˆchild_processï¼‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">spawn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;child_process&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å‡è®¾æˆ‘ä»¬æ­£åœ¨å¯åŠ¨ä¸€ä¸ªäº§ç”Ÿè¾“å‡ºçš„å­è¿›ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> subprocess</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> spawn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;some-command&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  stdio</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ignore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// stdinå¿½ç•¥ï¼Œstdoutå’Œstderréƒ½é‡å®šå‘åˆ°ç©ºè®¾å¤‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ï¼Œ<code>some-command</code>å‘½ä»¤äº§ç”Ÿçš„æ‰€æœ‰æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å’Œæ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œä¸ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸­ï¼Œä¹Ÿä¸ä¼šå½±å“ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ã€‚</p><ol start="2"><li><strong>åˆ›å»ºä¸€ä¸ªæ°¸è¿œä¸ºç©ºçš„è¯»å–æµ</strong>ï¼š<br> åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªå§‹ç»ˆä¸åŒ…å«ä»»ä½•æ•°æ®çš„è¯»å–æµä½œä¸ºå…¶ä»–æ“ä½œçš„è¾“å…¥æºã€‚æ¯”å¦‚ï¼Œå½“æŸä¸ª API æœŸæœ›ä¸€ä¸ªè¯»å–æµï¼Œä½†ä½ æ²¡æœ‰å®é™…çš„æ–‡ä»¶æˆ–æ•°æ®æä¾›æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>os.devNull</code>ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// åˆ›å»ºä¸€ä¸ªæŒ‡å‘ç©ºè®¾å¤‡çš„è¯»å–æµ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> emptyReadStream</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¿™ä¸ªæµå¯ä»¥ä¼ é€’ç»™éœ€è¦è¯»å–æµçš„å‡½æ•°æˆ–APIï¼Œè€Œè¯¥æµä¼šåƒä¸€ä¸ªæ°¸ä¸ç»“æŸçš„ç©ºæµä¸€æ ·è¡¨ç°</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>æµ‹è¯•å’ŒåŸºå‡†</strong>ï¼š<br> æœ‰æ—¶å€™å¼€å‘è€…å¯èƒ½æƒ³è¦æµ‹è¯•ä»–ä»¬çš„ç¨‹åºåœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶çš„æ€§èƒ½ï¼Œä½†åˆä¸å¸Œæœ›å› ä¸ºç£ç›˜ IO çš„é™åˆ¶è€Œå½±å“æµ‹è¯•ç»“æœã€‚æ­¤æ—¶ï¼Œå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ°<code>os.devNull</code>æ¥æ¨¡æ‹Ÿå¤§é‡æ•°æ®çš„å†™å…¥è€Œä¸å®é™…å ç”¨ç£ç›˜ç©ºé—´ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå·¨å¤§çš„æ•°æ®æºéœ€è¦å†™å…¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> hugeDataStream</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> getHugeDataStream</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¤§æ•°æ®æµ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å°†è¾“å‡ºé‡å®šå‘åˆ°ç©ºè®¾å¤‡ï¼Œä»¥é¿å…ç£ç›˜IOçš„é™åˆ¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> nullWriteStream</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">createWriteStream</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">devNull</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">hugeDataStream</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">nullWriteStream</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>os.devNull</code>å¯ä»¥è®©ä½ æ›´æ–¹ä¾¿åœ°è¿›è¡Œè·¨å¹³å°çš„å¼€å‘å’Œè°ƒè¯•ï¼Œå› ä¸ºä½ ä¸å¿…å…³å¿ƒåº•å±‚çš„æ“ä½œç³»ç»Ÿå·®å¼‚ï¼ŒNode.js å·²ç»ä¸ºä½ æŠ½è±¡äº†è¿™ä¸€å±‚ã€‚</p><h2 id="os-endianness" tabindex="-1"><a class="header-anchor" href="#os-endianness"><span><a href="https://nodejs.org/docs/latest/api/os.html#osendianness" target="_blank" rel="noopener noreferrer">os.endianness()</a></span></a></h2><p>Node.js çš„ <code>os.endianness()</code> æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜ Node.js è¿›ç¨‹è¿è¡Œçš„æ“ä½œç³»ç»Ÿçš„å­—èŠ‚åºã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œâ€œå­—èŠ‚åºâ€ï¼ˆByte Orderï¼‰æˆ–â€œå°¾åºâ€æ˜¯æŒ‡å¤šå­—èŠ‚æ•°æ®ï¼ˆå¦‚æ•´å‹æ•°ã€æµ®ç‚¹æ•°ç­‰ï¼‰åœ¨å†…å­˜ä¸­å­˜å‚¨çš„é¡ºåºã€‚è¿™ä¸»è¦æœ‰ä¸¤ç§ç±»å‹ï¼šå¤§ç«¯åºï¼ˆBig-Endianï¼‰å’Œå°ç«¯åºï¼ˆLittle-Endianï¼‰ã€‚</p><h3 id="å¤§ç«¯åº-big-endian" tabindex="-1"><a class="header-anchor" href="#å¤§ç«¯åº-big-endian"><span>å¤§ç«¯åºï¼ˆBig-Endianï¼‰</span></a></h3><p>åœ¨å¤§ç«¯åºä¸­ï¼Œæœ€é‡è¦çš„å­—èŠ‚ï¼ˆå³æœ€é«˜æœ‰æ•ˆå­—èŠ‚ï¼‰ä¿å­˜åœ¨å†…å­˜çš„æœ€ä½åœ°å€å¤„ï¼Œè€Œæœ€ä¸é‡è¦çš„å­—èŠ‚ï¼ˆå³æœ€ä½æœ‰æ•ˆå­—èŠ‚ï¼‰ä¿å­˜åœ¨æœ€é«˜åœ°å€å¤„ã€‚ç®€å•æ¥è¯´ï¼Œå°±åƒæˆ‘ä»¬é˜…è¯»è‹±æ–‡ä¸€æ ·ï¼Œä»å·¦åˆ°å³ã€‚</p><h3 id="å°ç«¯åº-little-endian" tabindex="-1"><a class="header-anchor" href="#å°ç«¯åº-little-endian"><span>å°ç«¯åºï¼ˆLittle-Endianï¼‰</span></a></h3><p>ä¸å¤§ç«¯åºç›¸åï¼Œåœ¨å°ç«¯åºä¸­ï¼Œæœ€é‡è¦çš„å­—èŠ‚ä¿å­˜åœ¨æœ€é«˜åœ°å€å¤„ï¼Œè€Œæœ€ä¸é‡è¦çš„å­—èŠ‚ä¿å­˜åœ¨æœ€ä½åœ°å€å¤„ã€‚å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆé˜…è¯»æŸäº›ä»å³å‘å·¦é˜…è¯»çš„æ–‡å­—æ—¶çš„é¡ºåºã€‚</p><h3 id="os-endianness-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#os-endianness-æ–¹æ³•"><span><code>os.endianness()</code>æ–¹æ³•</span></a></h3><p>å½“ä½ è°ƒç”¨<code>os.endianness()</code>æ—¶ï¼Œå®ƒä¼šè¿”å›<code>&#39;BE&#39;</code>æˆ–<code>&#39;LE&#39;</code>ï¼Œåˆ†åˆ«ä»£è¡¨å¤§ç«¯åºå’Œå°ç«¯åºã€‚</p><h4 id="ä¸ºä»€ä¹ˆéœ€è¦çŸ¥é“å­—èŠ‚åº" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦çŸ¥é“å­—èŠ‚åº"><span>ä¸ºä»€ä¹ˆéœ€è¦çŸ¥é“å­—èŠ‚åºï¼Ÿ</span></a></h4><p>å­—èŠ‚åºåœ¨è¿›è¡Œè·¨å¹³å°æ•°æ®äº¤æ¢æ—¶éå¸¸é‡è¦ã€‚å¦‚æœä½ çš„åº”ç”¨éœ€è¦åœ¨ç½‘ç»œä¸Šä¼ è¾“æ•°æ®ï¼Œæˆ–è€…éœ€è¦è¯»å–ç”±ä¸åŒæ¶æ„çš„ç³»ç»Ÿå†™å…¥çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæ­£ç¡®å¤„ç†å­—èŠ‚åºå°±å˜å¾—å°¤ä¸ºå…³é”®ã€‚</p><p><strong>å®é™…è¿ç”¨ä¾‹å­</strong></p><ol><li><p><strong>ç½‘ç»œé€šè®¯:</strong> åœ¨ç½‘ç»œåè®®ï¼ˆå¦‚ TCP/IPï¼‰ä¸­ï¼Œé€šå¸¸ä½¿ç”¨å¤§ç«¯åºæ¥ä¿è¯æ•°æ®åœ¨ä¸åŒçš„è®¡ç®—æœºé—´æ­£ç¡®ä¼ è¾“ã€‚å¦‚æœä½ çš„ Node.js åº”ç”¨è´Ÿè´£å¤„ç†è¿™ç±»ç½‘ç»œåè®®çš„æ•°æ®ï¼Œé‚£ä¹ˆç†è§£å¹¶å¯èƒ½éœ€è¦è½¬æ¢å­—èŠ‚åºå°±å¾ˆé‡è¦ã€‚</p></li><li><p><strong>æ–‡ä»¶å¤„ç†:</strong> å‡è®¾ä½ çš„åº”ç”¨éœ€è¦è¯»å–ç”±å¦ä¸€ç§æ¶æ„çš„ç³»ç»Ÿï¼ˆå¯èƒ½ä½¿ç”¨ä¸åŒçš„å­—èŠ‚åºï¼‰ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäº†è§£æ–‡ä»¶çš„å­—èŠ‚åºåŠå¦‚ä½•åœ¨ Node.js ä¸­å¤„ç†å®ƒä»¬æ˜¯å¿…éœ€çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çŸ¥é“ä¸€ä¸ªæ–‡ä»¶æ˜¯ç”¨å°ç«¯åºç¼–å†™çš„ï¼Œä½†ä½ çš„ç³»ç»Ÿæ˜¯å¤§ç«¯åºï¼Œä½ å¯èƒ½éœ€è¦åœ¨è¯»å–æ–‡ä»¶æ•°æ®ä¹‹åï¼Œå°†å…¶ä»å°ç«¯åºè½¬æ¢ä¸ºå¤§ç«¯åºã€‚</p></li><li><p><strong>ç¡¬ä»¶äº¤äº’:</strong> åœ¨ä¸€äº›éœ€è¦ç›´æ¥ä¸ç¡¬ä»¶äº¤äº’çš„åº”ç”¨ä¸­ï¼Œæ¯”å¦‚è¯»å–ä»æŸä¸ªä¼ æ„Ÿå™¨å‘é€çš„æ•°æ®ï¼Œäº†è§£ç¡¬ä»¶ä½¿ç”¨çš„å­—èŠ‚åºä¹Ÿæ˜¯é‡è¦çš„ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥ç¡®ä¿æ•°æ®è¢«æ­£ç¡®è§£æå’Œå¤„ç†ã€‚</p></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">endianness</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºå¯èƒ½æ˜¯ &#39;LE&#39; æˆ– &#39;BE&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä½¿ç”¨ Node.js çš„<code>os.endianness()</code>æ–¹æ³•ï¼Œå¼€å‘è€…å¯ä»¥ç¼–å†™æ›´ä¸ºå¥å£®ã€èƒ½å¤Ÿé€‚åº”ä¸åŒç¯å¢ƒçš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†åº•å±‚æ•°æ®äº¤æ¢æ—¶ã€‚</p><h2 id="os-freemem" tabindex="-1"><a class="header-anchor" href="#os-freemem"><span><a href="https://nodejs.org/docs/latest/api/os.html#osfreemem" target="_blank" rel="noopener noreferrer">os.freemem()</a></span></a></h2><p>Node.js çš„ <code>os.freemem()</code> æ–¹æ³•æ˜¯ç”¨æ¥è·å–ç³»ç»Ÿå½“å‰ç©ºé—²çš„å†…å­˜é‡ï¼Œå®ƒæ˜¯ <code>os</code> æ¨¡å—æä¾›çš„ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘å­—èŠ‚çš„ç©ºé—²å†…å­˜å¯ç”¨ã€‚è¿™ä¸ªæ–¹æ³•ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä½ ç›‘æ§åº”ç”¨ç¨‹åºçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿åº”ç”¨è¿è¡Œåœ¨å¥åº·çš„çŠ¶æ€ä¸‹ã€‚</p><h3 id="ä½¿ç”¨ç¤ºä¾‹-1" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹-1"><span>ä½¿ç”¨ç¤ºä¾‹</span></a></h3><h4 id="åŸºæœ¬ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•"><span>åŸºæœ¬ç”¨æ³•</span></a></h4><p>è¦ä½¿ç”¨ <code>os.freemem()</code> æ–¹æ³•ï¼Œé¦–å…ˆéœ€è¦å¯¼å…¥ Node.js çš„ <code>os</code> æ¨¡å—ï¼Œç„¶åè°ƒç”¨ <code>os.freemem()</code> æ–¹æ³•ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">freemem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡ºå½“å‰ç³»ç»Ÿçš„ç©ºé—²å†…å­˜é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚è¿™å¯¹äºç›‘æµ‹ç³»ç»Ÿèµ„æºåœ¨åº”ç”¨è¿è¡ŒæœŸé—´çš„å˜åŒ–æƒ…å†µéå¸¸æœ‰å¸®åŠ©ã€‚</p><h4 id="ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ"><span>ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ</span></a></h4><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª Node.js åº”ç”¨ï¼Œéœ€è¦ç¡®ä¿å®ƒä¸ä¼šæ¶ˆè€—è¿‡å¤šçš„ç³»ç»Ÿèµ„æºã€‚ä½ å¯ä»¥å®šæœŸè°ƒç”¨ <code>os.freemem()</code> æ¥æ£€æŸ¥ç³»ç»Ÿçš„ç©ºé—²å†…å­˜é‡ï¼Œå¦‚æœç©ºé—²å†…å­˜é‡é™ä½åˆ°æŸä¸ªä¸´ç•Œç‚¹ï¼Œå°±å¯ä»¥é‡‡å–ä¸€äº›æªæ–½ï¼Œæ¯”å¦‚é‡Šæ”¾ä¸€äº›ä¸å†éœ€è¦çš„èµ„æºï¼Œæˆ–è€…å‡å°‘æ–°çš„èµ„æºåˆ†é…ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;os&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> freeMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">freemem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`Free memory: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">freeMemory</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">freeMemory</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> `&lt;`</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> SOME_THRESHOLD</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Memory is running low! Taking some action.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // åœ¨è¿™é‡Œæ·»åŠ é‡Šæ”¾èµ„æºæˆ–å…¶ä»–æ¢å¤å†…å­˜çš„é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// æ¯10ç§’æ£€æŸ¥ä¸€æ¬¡</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®é™…è¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨"><span>å®é™…è¿ç”¨</span></a></h3><ul><li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šåœ¨å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨ <code>os.freemem()</code> ä½œä¸ºç›‘æ§åº”ç”¨æ€§èƒ½çš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡å®æ—¶ç›‘æ§ç©ºé—²å†…å­˜é‡æ¥é¢„é˜²å†…å­˜æ³„æ¼ç­‰é—®é¢˜ã€‚</li><li><strong>èµ„æºç®¡ç†</strong>ï¼šå¦‚æœä½ çš„åº”ç”¨ä¾èµ–äºç³»ç»Ÿèµ„æºçš„å¯ç”¨æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>os.freemem()</code> æ¥å†³å®šæ˜¯å¦å¯åŠ¨æ–°çš„ä»»åŠ¡æˆ–æ“ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ£€æµ‹åˆ°ç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œå¯èƒ½ä¼šæ¨è¿Ÿå¯åŠ¨å†…å­˜å¯†é›†å‹ä»»åŠ¡ã€‚</li><li><strong>è‡ªåŠ¨æŠ¥è­¦ç³»ç»Ÿ</strong>ï¼šç»“åˆå…¶ä»–å·¥å…·å’Œæ¡†æ¶ï¼Œ<code>os.freemem()</code> å¯ä»¥ç”¨æ¥æ„å»ºè‡ªåŠ¨åŒ–çš„ç›‘æ§å’ŒæŠ¥è­¦ç³»ç»Ÿï¼Œå½“ç³»ç»Ÿèµ„æºè¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶è‡ªåŠ¨é€šçŸ¥ç®¡ç†å‘˜ã€‚</li></ul><p>é€šè¿‡è¿™äº›å®é™…çš„åº”ç”¨ç¤ºä¾‹ï¼Œä½ å¯ä»¥çœ‹åˆ° <code>os.freemem()</code> åœ¨ Node.js åº”ç”¨ç¨‹åºä¸­çš„å¤šç§ç”¨é€”ï¼Œå°¤å…¶æ˜¯ä¸ç³»ç»Ÿèµ„æºç®¡ç†å’Œç›‘æ§ç›¸å…³æ—¶ã€‚è¿™æ ·çš„æœºåˆ¶è®©å¼€å‘è€…èƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶å’Œä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</p><h2 id="os-getpriority-pid" tabindex="-1"><a class="header-anchor" href="#os-getpriority-pid"><span><a href="https://nodejs.org/docs/latest/api/os.html#osgetprioritypid" target="_blank" rel="noopener noreferrer">os.getPriority([pid])</a></span></a></h2><p>åœ¨ Node.js ä¸­ï¼Œ<code>os.getPriority([pid])</code> å‡½æ•°ç”¨äºè·å–æŒ‡å®šè¿›ç¨‹çš„è°ƒåº¦ä¼˜å…ˆçº§ã€‚è¿™ä¸ªå‡½æ•°å±äº <code>os</code> æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æä¾›äº†ä¸€äº›åŸºæœ¬çš„ç³»ç»Ÿæ“ä½œåŠŸèƒ½ã€‚è°ƒåº¦ä¼˜å…ˆçº§å†³å®šäº†è¿›ç¨‹è·å– CPU æ—¶é—´çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šé«˜çš„è¿›ç¨‹ä¼šè¢«æ“ä½œç³»ç»Ÿæ›´ä¼˜å…ˆåœ°å¤„ç†ã€‚</p><h3 id="å‚æ•°è§£é‡Š" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è§£é‡Š"><span>å‚æ•°è§£é‡Š</span></a></h3><ul><li><code>pid</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¿›ç¨‹çš„ IDã€‚å¦‚æœä¸æä¾› <code>pid</code>ï¼Œæˆ–è€…æä¾›çš„æ˜¯ <code>0</code>ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šè·å–å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</li></ul><h3 id="è¿”å›å€¼" tabindex="-1"><a class="header-anchor" href="#è¿”å›å€¼"><span>è¿”å›å€¼</span></a></h3><ul><li>è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œä»£è¡¨è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªä¼˜å…ˆçº§çš„èŒƒå›´å’Œæ„ä¹‰å¯èƒ½æœ‰æ‰€ä¸åŒã€‚</li></ul><h3 id="å®é™…åº”ç”¨ç¤ºä¾‹-1" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨ç¤ºä¾‹-1"><span>å®é™…åº”ç”¨ç¤ºä¾‹</span></a></h3><ol><li><strong>è·å–å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§</strong></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> priority</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§æ˜¯ï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¸º <code>os.getPriority()</code> å‡½æ•°æä¾›ä»»ä½•å‚æ•°ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æƒ³è¦è·å–å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚è¿™å¯¹äºäº†è§£å½“å‰ç¨‹åºåœ¨ç³»ç»Ÿèµ„æºåˆ†é…ä¸Šçš„åœ°ä½éå¸¸æœ‰ç”¨ã€‚</p><ol start="2"><li><strong>è®¾ç½®å¹¶æ£€æŸ¥å…¶ä»–è¿›ç¨‹çš„ä¼˜å…ˆçº§</strong></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">spawn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;child_process&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> child</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> spawn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;someScript.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å°†æ–°è¿›ç¨‹çš„ä¼˜å…ˆçº§è®¾ç½®å¾—æ¯”å½“å‰è¿›ç¨‹ä½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">child</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">pid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–å¹¶æ‰“å°å‡ºæ–°è¿›ç¨‹çš„ä¼˜å…ˆçº§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`æ–°è¿›ç¨‹çš„ä¼˜å…ˆçº§æ˜¯ï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getPriority</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">child</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">pid</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯åŠ¨äº†ä¸€ä¸ªæ–°çš„ Node.js è¿›ç¨‹æ¥æ‰§è¡Œ <code>someScript.js</code> æ–‡ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>os.setPriority()</code> å‡½æ•°å°†è¿™ä¸ªæ–°è¿›ç¨‹çš„ä¼˜å…ˆçº§è®¾ç½®å¾—æ¯”å½“å‰è¿›ç¨‹ä½ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œçš„ä¼˜å…ˆçº§å€¼å’Œå…·ä½“çš„æ“ä½œç³»ç»Ÿæœ‰å…³ï¼Œæ‰€ä»¥ <code>10</code> åªæ˜¯ä¸€ä¸ªç¤ºä¾‹å€¼ï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡ <code>os.getPriority()</code> æ£€æŸ¥äº†è¿™ä¸ªæ–°è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p><h3 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹"><span>æ³¨æ„äº‹é¡¹</span></a></h3><ul><li>è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§å¯èƒ½éœ€è¦ç‰¹å®šçš„æ“ä½œç³»ç»Ÿæƒé™ï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li><li>ä¸åŒæ“ä½œç³»ç»Ÿå¯¹ä¼˜å…ˆçº§çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œå› æ­¤åœ¨è·¨å¹³å°ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä¼˜å…ˆçº§å€¼çš„å«ä¹‰ã€‚</li></ul><h2 id="os-homedir" tabindex="-1"><a class="header-anchor" href="#os-homedir"><span><a href="https://nodejs.org/docs/latest/api/os.html#oshomedir" target="_blank" rel="noopener noreferrer">os.homedir()</a></span></a></h2><p>Node.js çš„ <code>os.homedir()</code> æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å‡½æ•°ï¼Œå®ƒç”¨æ¥è·å–å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ–‡ä»¶å¤¹ï¼Œé€šå¸¸ç”¨æ¥å­˜æ”¾ä¸ªäººæ–‡æ¡£ã€è®¾ç½®ã€ç¨‹åºç­‰ã€‚</p><p>æ¯”å¦‚ï¼Œåœ¨ Windows ç³»ç»Ÿä¸­ï¼ŒæŸä¸ªç”¨æˆ·çš„ä¸»ç›®å½•å¯èƒ½æ˜¯ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>C:\Users\ç”¨æˆ·å</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è€Œåœ¨ UNIX æˆ–ç±» UNIX ç³»ç»Ÿï¼ˆæ¯”å¦‚ Linux æˆ– macOSï¼‰ä¸­ï¼Œå¯èƒ½æ˜¯ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>/home/ç”¨æˆ·å</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æˆ–è€…</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>/Users/ç”¨æˆ·å</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å½“ä½ åœ¨ Node.js ç¨‹åºä¸­è°ƒç”¨ <code>os.homedir()</code> å‡½æ•°æ—¶ï¼Œå®ƒä¼šè¿”å›è¿™ä¸ªè·¯å¾„ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ <code>os.homedir()</code> å‡½æ•°çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// é¦–å…ˆï¼Œæˆ‘ä»¬åŠ è½½ Node.js ä¸­çš„ &#39;os&#39; æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// æ¥ç€ï¼Œæˆ‘ä»¬è°ƒç”¨ os.homedir() å‡½æ•°ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨å˜é‡ homeDirectory ä¸­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> homeDirectory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">homedir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// æœ€åï¼Œæˆ‘ä»¬æ‰“å°å‡ºè¿™ä¸ªä¸»ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">homeDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œä¸Šè¿°ä»£ç åï¼Œç»ˆç«¯ï¼ˆæˆ–æ§åˆ¶å°ï¼‰ä¼šæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•è·¯å¾„ã€‚</p><p>å®é™…è¿ç”¨çš„ä¾‹å­ï¼š</p><ol><li><strong>é…ç½®æ–‡ä»¶çš„å­˜å–</strong>: å¦‚æœä½ çš„åº”ç”¨éœ€è¦è¯»å–æˆ–å†™å…¥ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ï¼Œä½ å¯èƒ½ä¼šæŠŠè¿™äº›æ–‡ä»¶æ”¾åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸‹çš„ä¸€ä¸ªç‰¹å®šæ–‡ä»¶å¤¹é‡Œã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–ç”¨æˆ·ä¸»ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> homeDirectory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">homedir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ç”Ÿæˆé…ç½®æ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> configFilePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> path</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">homeDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;.myappconfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¯»å–é…ç½®æ–‡ä»¶å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">configFilePath</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Error reading the config file:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Config content:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>é»˜è®¤ä¸‹è½½æˆ–ä¿å­˜ä½ç½®</strong>: å½“ä½ å¼€å‘ä¸€ä¸ªéœ€è¦ä¸‹è½½æ–‡ä»¶çš„åº”ç”¨æ—¶ï¼Œä½ å¯ä»¥é»˜è®¤å°†æ–‡ä»¶ä¿å­˜åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•æˆ–å…¶å­ç›®å½•ä¸­ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> downloadPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> path</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">homedir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(), </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Downloads&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;myfile.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•° downloadFile æ¥ä¸‹è½½æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">downloadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;http://example.com/myfile.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">downloadPath</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Download failed:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;File downloaded to:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">downloadPath</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>è·¨å¹³å°åº”ç”¨å¼€å‘</strong>: å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªè·¨æ“ä½œç³»ç»Ÿå·¥ä½œçš„åº”ç”¨ï¼Œä½¿ç”¨ <code>os.homedir()</code> å¯ä»¥å¸®åŠ©ä½ æ‰¾åˆ°æ¯ä¸ªç³»ç»Ÿä¸Šçš„æ­£ç¡®è·¯å¾„ï¼Œä»è€Œé¿å…ç¡¬ç¼–ç ç‰¹å®šæ“ä½œç³»ç»Ÿçš„è·¯å¾„ã€‚</li></ol><p>è®°ä½ï¼Œ<code>os.homedir()</code> çš„è¿”å›å€¼ä¾èµ–äºæ“ä½œç³»ç»Ÿå’Œå½“å‰çš„ç”¨æˆ·ç¯å¢ƒï¼Œæ‰€ä»¥ä½ çš„ä»£ç ä¼šæ›´åŠ çµæ´»ä¸”é€‚ç”¨äºä¸åŒçš„ç”¨æˆ·å’Œç³»ç»Ÿã€‚</p><h2 id="os-hostname" tabindex="-1"><a class="header-anchor" href="#os-hostname"><span><a href="https://nodejs.org/docs/latest/api/os.html#oshostname" target="_blank" rel="noopener noreferrer">os.hostname()</a></span></a></h2><p>å½“ç„¶ï¼Œæˆ‘å¯ä»¥è¯¦ç»†è§£é‡Šç»™ä½ å¬ã€‚</p><p>åœ¨ Node.js ä¸­ï¼Œ<code>os.hostname()</code> æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å‡½æ•°ï¼Œå®ƒç”¨äºè·å–å½“å‰è¿è¡Œ Node.js ç¨‹åºçš„è®¡ç®—æœºçš„ä¸»æœºåã€‚ä¸»æœºåæ˜¯æŒ‡ä½ çš„ç”µè„‘åœ¨ç½‘ç»œä¸­çš„åå­—ï¼Œé€šå¸¸æ˜¯ç”¨æ¥è¯†åˆ«ç½‘ç»œä¸Šå„ä¸ªä¸åŒçš„è®¾å¤‡çš„ã€‚</p><p>è¿™ä¸ªå‡½æ•°æ˜¯ <code>os</code> æ¨¡å—çš„ä¸€éƒ¨åˆ†ï¼Œ<code>os</code> æ¨¡å—æä¾›äº†å¾ˆå¤šæ–¹æ³•å’Œå±æ€§ï¼Œå¯ä»¥è®©ä½ è·å–æ“ä½œç³»ç»Ÿçš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>ä½¿ç”¨ <code>os.hostname()</code> çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>é¦–å…ˆï¼Œåœ¨ä½ çš„ Node.js ä»£ç ä¸­å¼•å…¥<code>os</code>æ¨¡å—ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>æ¥ç€ï¼Œä½¿ç”¨ <code>hostname()</code> å‡½æ•°è·å–ä¸»æœºåï¼š</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¦è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œå°±ä¼šæ‰“å°å‡ºä½ çš„è®¡ç®—æœºçš„ä¸»æœºåã€‚</p><p>ç°åœ¨ï¼Œæ¥çœ‹å‡ ä¸ªå®é™…åº”ç”¨çš„ä¾‹å­ï¼š</p><h3 id="ç¤ºä¾‹-1-æ—¥å¿—è®°å½•ä¸­æ·»åŠ ä¸»æœºå" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-1-æ—¥å¿—è®°å½•ä¸­æ·»åŠ ä¸»æœºå"><span>ç¤ºä¾‹ 1ï¼šæ—¥å¿—è®°å½•ä¸­æ·»åŠ ä¸»æœºå</span></a></h3><p>å‡å¦‚ä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ª Node.js åº”ç”¨ï¼Œéœ€è¦è®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œä¸ºäº†æ–¹ä¾¿ä»¥ååˆ†æé—®é¢˜ï¼Œä½ å¸Œæœ›æ¯æ¡æ—¥å¿—éƒ½èƒ½æ˜¾ç¤ºæ˜¯ä»å“ªå°æœºå™¨äº§ç”Ÿçš„ã€‚ä½ å¯ä»¥ç”¨ <code>os.hostname()</code> æ¥è·å–ä¸»æœºåï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æ—¥å¿—ä¿¡æ¯ä¸­ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> logMessage</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> `Log entry from </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">: Something happened!`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">appendFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;application.log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">logMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Error writing to log file:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Log entry added.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç å°†åˆ›å»ºæˆ–è¿½åŠ åˆ°ä¸€ä¸ªå«åš <code>application.log</code> çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ¯ä¸€æ¡æ—¥å¿—éƒ½ä¼šæ ‡è®°æ˜¯ä»å“ªå°æœºå™¨äº§ç”Ÿçš„ã€‚</p><h3 id="ç¤ºä¾‹-2-åŸºäºä¸»æœºåçš„æ¡ä»¶æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-2-åŸºäºä¸»æœºåçš„æ¡ä»¶æ‰§è¡Œ"><span>ç¤ºä¾‹ 2ï¼šåŸºäºä¸»æœºåçš„æ¡ä»¶æ‰§è¡Œ</span></a></h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æœ‰ä¸€æ®µä»£ç åªæƒ³åœ¨ç‰¹å®šçš„æœºå™¨ä¸Šæ‰§è¡Œã€‚æ¯”å¦‚ï¼Œä½ æœ‰å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ä¸åŒä¸»æœºï¼Œä½ å¸Œæœ›æŸäº›æ“ä½œåªåœ¨å¼€å‘ç¯å¢ƒä¸­è¿›è¡Œã€‚é€šè¿‡æ£€æŸ¥ä¸»æœºåï¼Œä½ å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">hostname</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;development-machine&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Running in development mode!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // è¿™é‡Œæ”¾ç½®åªæœ‰åœ¨å¼€å‘æœºå™¨ä¸Šæ‰ä¼šæ‰§è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Running in production mode!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // è¿™é‡Œæ”¾ç½®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ ¹æ®è¿è¡Œå®ƒçš„è®¡ç®—æœºçš„ä¸»æœºåï¼Œç¨‹åºå°†åˆ¤æ–­æ˜¯å¤„äºå¼€å‘æ¨¡å¼è¿˜æ˜¯ç”Ÿäº§æ¨¡å¼ï¼Œå¹¶æ®æ­¤æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œ<code>os.hostname()</code> æ˜¯ä¸€ä¸ªå¿«é€Ÿè·å–è®¡ç®—æœºç½‘ç»œåç§°çš„å°å·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨éœ€è¦åŒºåˆ†ä¸åŒæœºå™¨æˆ–è€…ä»…ä»…æ˜¯ä¸ºäº†è®°å½•ç›®çš„æ—¶éå¸¸æœ‰ç”¨ã€‚</p><h2 id="os-loadavg" tabindex="-1"><a class="header-anchor" href="#os-loadavg"><span><a href="https://nodejs.org/docs/latest/api/os.html#osloadavg" target="_blank" rel="noopener noreferrer">os.loadavg()</a></span></a></h2><p>å½“æˆ‘ä»¬è°ˆè®º Node.js ä¸­çš„<code>os.loadavg()</code>æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯ä¸€ä¸ªç”¨äºè·å–ç³»ç»Ÿå¹³å‡è´Ÿè½½çš„å‡½æ•°ã€‚è®©æˆ‘å…ˆè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ç³»ç»Ÿå¹³å‡è´Ÿè½½ï¼Œç„¶åå†é€šè¿‡å‡ ä¸ªä¾‹å­æ¥è¯´æ˜è¿™ä¸ªå‡½æ•°åœ¨å®é™…ä¸­çš„åº”ç”¨ã€‚</p><h3 id="ç³»ç»Ÿå¹³å‡è´Ÿè½½" tabindex="-1"><a class="header-anchor" href="#ç³»ç»Ÿå¹³å‡è´Ÿè½½"><span>ç³»ç»Ÿå¹³å‡è´Ÿè½½</span></a></h3><p>ç³»ç»Ÿå¹³å‡è´Ÿè½½æ˜¯æŒ‡åœ¨ç‰¹å®šæ—¶é—´é—´éš”å†…ï¼Œç³»ç»Ÿå¤„äºè¿è¡ŒçŠ¶æ€æˆ–ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒè¡¨æ˜äº†ç³»ç»Ÿå·¥ä½œçš„å¿™ç¢Œç¨‹åº¦ã€‚å¹³å‡è´Ÿè½½æœ‰ä¸‰ä¸ªå€¼ï¼Œåˆ†åˆ«å¯¹åº”è¿‡å» 1 åˆ†é’Ÿã€5 åˆ†é’Ÿå’Œ 15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ã€‚</p><ul><li><strong>è¿‡å» 1 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½</strong> åæ˜ äº†æœ€è¿‘çš„ç³»ç»Ÿè´Ÿè½½çŠ¶å†µã€‚</li><li><strong>è¿‡å» 5 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½</strong> æä¾›äº†è¾ƒä¸ºä¸­æœŸçš„ç³»ç»Ÿè´Ÿè½½ä¿¡æ¯ã€‚</li><li><strong>è¿‡å» 15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½</strong> ç»™å‡ºäº†ç›¸å¯¹é•¿æœŸçš„ç³»ç»Ÿè´Ÿè½½è¶‹åŠ¿ã€‚</li></ul><h3 id="node-js-ä¸­çš„os-loadavg" tabindex="-1"><a class="header-anchor" href="#node-js-ä¸­çš„os-loadavg"><span>Node.js ä¸­çš„<code>os.loadavg()</code></span></a></h3><p>åœ¨ Node.js ä¸­ï¼Œ<code>os.loadavg()</code>æ–¹æ³•æ­£æ˜¯ç”¨æ¥è·å–è¿™äº›å¹³å‡è´Ÿè½½å€¼çš„ã€‚å½“ä½ è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«ä»¥ä¸Šæåˆ°çš„ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½å€¼ã€‚</p><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><ol><li><p><strong>ç›‘æ§ç³»ç»Ÿå¥åº·</strong>ï¼šå¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦å¯†åˆ‡ç›‘è§†ç³»ç»Ÿæ€§èƒ½çš„åº”ç”¨ï¼Œå¦‚æœåŠ¡å™¨ç›‘æ§å·¥å…·ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>os.loadavg()</code>æ–¹æ³•å®šæœŸæ£€æŸ¥ç³»ç»Ÿè´Ÿè½½ã€‚å¦‚æœè´Ÿè½½å€¼è¶…è¿‡æŸä¸ªé˜ˆå€¼ï¼Œä½ å¯èƒ½æƒ³å‘é€è­¦å‘Šæˆ–è‡ªåŠ¨æ‰§è¡ŒæŸäº›æ“ä½œä»¥å‡è½»è´Ÿè½½ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// æ¯30ç§’æ£€æµ‹ä¸€æ¬¡ç³»ç»Ÿå¹³å‡è´Ÿè½½</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">oneMinute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">fiveMinutes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">fifteenMinutes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">loadavg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`1åˆ†é’Ÿå¹³å‡è´Ÿè½½: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">oneMinute</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`5åˆ†é’Ÿå¹³å‡è´Ÿè½½: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fiveMinutes</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`15åˆ†é’Ÿå¹³å‡è´Ÿè½½: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fifteenMinutes</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // å¦‚æœ1åˆ†é’Ÿå¹³å‡è´Ÿè½½è¶…è¿‡4ï¼ˆæ ¹æ®ä½ çš„ç³»ç»Ÿè§„æ¨¡ï¼Œè¿™ä¸ªå€¼å¯èƒ½éœ€è¦è°ƒæ•´ï¼‰ï¼Œå‘å‡ºè­¦å‘Š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">oneMinute</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ç³»ç»Ÿè´Ÿè½½è¿‡é«˜ï¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // åœ¨è¿™é‡Œæ·»åŠ é€»è¾‘æ¥å¤„ç†é«˜è´Ÿè½½æƒ…å†µï¼Œæ¯”å¦‚å‘é€é‚®ä»¶é€šçŸ¥ç®¡ç†å‘˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æ€§èƒ½åŸºå‡†æµ‹è¯•</strong>ï¼šå½“ä½ å¯¹æœåŠ¡å™¨è¿›è¡Œæ€§èƒ½è°ƒä¼˜æ—¶ï¼Œ<code>os.loadavg()</code>å¯ä»¥æä¾›å…³é”®æ•°æ®ç‚¹ï¼Œå¸®åŠ©ä½ ç†è§£ä¸åŒé…ç½®å¯¹ç³»ç»Ÿè´Ÿè½½çš„å½±å“ã€‚</p></li><li><p><strong>è‡ªæˆ‘ä¿æŠ¤çš„åº”ç”¨ç¨‹åº</strong>ï¼šä¸€äº›é«˜çº§çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿåœ¨ç³»ç»Ÿèµ„æºç´§å¼ æ—¶è‡ªåŠ¨é™ä½å®ƒä»¬çš„èµ„æºéœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºæ£€æµ‹åˆ°ç³»ç»Ÿè´Ÿè½½è¿œé«˜äºæ­£å¸¸æ°´å¹³ï¼Œå®ƒå¯èƒ½å†³å®šæš‚æ—¶é™ä½ä»»åŠ¡çš„ä¼˜å…ˆçº§æˆ–å»¶è¿Ÿå¯åŠ¨æ–°çš„ä»»åŠ¡ã€‚</p></li></ol><p>é€šè¿‡ä¸Šè¿°ç¤ºä¾‹ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹<code>os.loadavg()</code>æ–¹æ³•å’Œå…¶åœ¨ Node.js ä¸­çš„åº”ç”¨æœ‰äº†ä¸€ä¸ªæ¸…æ™°çš„ç†è§£ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç³»ç»Ÿç›‘æ§å’Œæ€§èƒ½è¯„ä¼°ä¸­éå¸¸å®ç”¨çš„å·¥å…·ã€‚</p><h2 id="os-machine" tabindex="-1"><a class="header-anchor" href="#os-machine"><span><a href="https://nodejs.org/docs/latest/api/os.html#osmachine" target="_blank" rel="noopener noreferrer">os.machine()</a></span></a></h2><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œå®ƒä½¿å¾— JavaScript èƒ½å¤Ÿåœ¨æœåŠ¡å™¨ç«¯è¿è¡Œã€‚åœ¨ Node.js ä¸­ï¼Œæœ‰ä¸€ä¸ªæ¨¡å—å«åš<code>os</code>ï¼ˆOperating Systemï¼‰ï¼Œå®ƒæä¾›äº†ä¸€äº›åŸºæœ¬çš„ç³»ç»Ÿæ“ä½œå‡½æ•°ã€‚åœ¨ Node.js çš„ç‰ˆæœ¬ 21.7.1 ä¸­ï¼Œ<code>os</code>æ¨¡å—ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼š<code>os.machine()</code>ã€‚</p><h3 id="os-machine-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#os-machine-æ–¹æ³•"><span>os.machine()æ–¹æ³•</span></a></h3><p>è¿™ä¸ªæ–¹æ³•ç”¨äºè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä½ çš„è®¡ç®—æœºçš„æ¶æ„ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå‘Šè¯‰ä½ çš„ç¨‹åºæ­£åœ¨ä»€ä¹ˆæ ·çš„ç¡¬ä»¶ä¸Šè¿è¡Œã€‚è¿™ä¸ªä¿¡æ¯å¯¹äºæŸäº›éœ€è¦æ ¹æ®ä¸åŒç¡¬ä»¶è¿›è¡Œä¼˜åŒ–çš„åº”ç”¨éå¸¸æœ‰ç”¨ã€‚</p><h3 id="æ¶æ„çš„å«ä¹‰" tabindex="-1"><a class="header-anchor" href="#æ¶æ„çš„å«ä¹‰"><span>æ¶æ„çš„å«ä¹‰</span></a></h3><p>&quot;æ¶æ„&quot;åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯è®¡ç®—æœºçš„å†…éƒ¨æŒ‡ä»¤é›†æ¶æ„ï¼ˆInstruction Set Architecture, ISAï¼‰ï¼Œå®ƒå®šä¹‰äº†è®¡ç®—æœºå¤„ç†å™¨æ”¯æŒå“ªäº›æŒ‡ä»¤ã€‚å¸¸è§çš„æ¶æ„åŒ…æ‹¬ x86ã€x64ï¼ˆä¹Ÿå°±æ˜¯ AMD64 æˆ– Intel 64ï¼‰ã€ARM ç­‰ã€‚ä¾‹å¦‚ï¼Œx86 æ¶æ„ä¸»è¦ç”¨åœ¨æ—©æœŸçš„ä¸ªäººç”µè„‘ä¸­ï¼Œè€Œç°ä»£ä¸ªäººç”µè„‘å’ŒæœåŠ¡å™¨åˆ™æ™®éä½¿ç”¨ x64 æ¶æ„ã€‚ARM æ¶æ„åˆ™ä¸»è¦ç”¨åœ¨ç§»åŠ¨è®¾å¤‡å’Œä¸€äº›è½»é‡çº§æˆ–åµŒå…¥å¼ç³»ç»Ÿä¸­ã€‚</p><h3 id="å®é™…è¿ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨å®ä¾‹"><span>å®é™…è¿ç”¨å®ä¾‹</span></a></h3><ol><li><p><strong>å¤šå¹³å°åº”ç”¨å¼€å‘</strong>ï¼šå¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªè·¨å¹³å°çš„åº”ç”¨ï¼Œå¯èƒ½éœ€è¦åœ¨ä¸åŒçš„æ¶æ„ä¸Šè¿›è¡Œä¸åŒçš„ä¼˜åŒ–ã€‚ä½¿ç”¨<code>os.machine()</code>å¯ä»¥å¸®åŠ©ä½ çš„åº”ç”¨è¯†åˆ«æ­£åœ¨è¿è¡Œçš„ç¡¬ä»¶æ¶æ„ï¼Œä»è€ŒåŠ è½½é€‚åˆè¯¥æ¶æ„çš„ç‰¹å®šä»£ç æˆ–åº“ã€‚</p></li><li><p><strong>ç³»ç»Ÿç›‘æ§å·¥å…·</strong>ï¼šå¦‚æœä½ åœ¨åˆ¶ä½œä¸€ä¸ªç³»ç»Ÿç›‘æ§å·¥å…·ï¼Œæƒ³è¦æ˜¾ç¤ºå…³äºæœåŠ¡å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œé‚£ä¹ˆ<code>os.machine()</code>å¯ä»¥æä¾›æœåŠ¡å™¨ CPU çš„æ¶æ„ä¿¡æ¯ï¼Œè¿™å¯¹äºç†è§£æœåŠ¡å™¨æ€§èƒ½å’Œå…¼å®¹æ€§é—®é¢˜å¾ˆé‡è¦ã€‚</p></li><li><p><strong>è½¯ä»¶æ‰“åŒ…</strong>ï¼šåœ¨è½¯ä»¶æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œå°¤å…¶æ˜¯å½“ä½ çš„è½¯ä»¶éœ€è¦ç¼–è¯‘åˆ°ä¸åŒå¹³å°ä¸Šæ—¶ï¼ŒçŸ¥é“ç›®æ ‡å¹³å°çš„æ¶æ„æ˜¯éå¸¸é‡è¦çš„ã€‚åˆ©ç”¨<code>os.machine()</code>ï¼Œè‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬å¯ä»¥æ ¹æ®ç›®æ ‡å¹³å°çš„æ¶æ„é€‰æ‹©åˆé€‚çš„ä¾èµ–åº“æˆ–æ‰§è¡Œç›¸åº”çš„ç¼–è¯‘ä¼˜åŒ–ã€‚</p></li></ol><h3 id="ç¤ºä¾‹ä»£ç " tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹ä»£ç "><span>ç¤ºä¾‹ä»£ç </span></a></h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨<code>os.machine()</code>çš„ç®€å•ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`This machine&#39;s architecture is: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">machine</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç é¦–å…ˆå¯¼å…¥<code>os</code>æ¨¡å—ï¼Œç„¶åé€šè¿‡è°ƒç”¨<code>os.machine()</code>è·å–å½“å‰æœºå™¨çš„æ¶æ„ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚è¿™å¯¹äºå¼€å‘è€…äº†è§£è¿è¡Œç¯å¢ƒæˆ–è¿›è¡Œæ¡ä»¶å¤„ç†æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚</p><p>æ€»ä¹‹ï¼Œ<code>os.machine()</code>æ˜¯ Node.js ä¸­ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–°æ–¹æ³•ï¼Œå®ƒä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç§ç®€å•ç›´æ¥çš„æ–¹å¼æ¥è·å–å’Œåˆ©ç”¨ç³»ç»Ÿæ¶æ„ä¿¡æ¯ã€‚æ— è®ºæ˜¯è¿›è¡Œå¤šå¹³å°å¼€å‘ã€ç³»ç»Ÿç›‘æ§è¿˜æ˜¯ä¼˜åŒ–è½¯ä»¶æ‰“åŒ…æµç¨‹ï¼Œäº†è§£ä½ çš„åº”ç”¨è¿è¡Œåœ¨ä»€ä¹ˆæ ·çš„ç¡¬ä»¶ä¸Šæ€»æ˜¯éå¸¸é‡è¦çš„ã€‚</p><h2 id="os-networkinterfaces" tabindex="-1"><a class="header-anchor" href="#os-networkinterfaces"><span><a href="https://nodejs.org/docs/latest/api/os.html#osnetworkinterfaces" target="_blank" rel="noopener noreferrer">os.networkInterfaces()</a></span></a></h2><p>Node.js ä¸­çš„<code>os.networkInterfaces()</code>æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œå®ƒå±äº<code>os</code>ï¼ˆæ“ä½œç³»ç»Ÿï¼‰æ¨¡å—ã€‚è¿™ä¸ªæ–¹æ³•ç”¨äºè·å–ä¸»æœº(os)ä¸Šç½‘ç»œæ¥å£çš„è¯¦ç»†ä¿¡æ¯ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå¯ä»¥è®©ä½ çŸ¥é“ä½ çš„ç”µè„‘æˆ–æœåŠ¡å™¨ä¸Šæœ‰å“ªäº›ç½‘ç»œæ¥å£ï¼Œæ¯”å¦‚ Wi-Fiã€ä»¥å¤ªç½‘ç­‰ï¼Œä»¥åŠè¿™äº›ç½‘ç»œæ¥å£çš„ä¸€äº›è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IP åœ°å€ã€MAC åœ°å€ç­‰ã€‚</p><h3 id="ä½¿ç”¨os-networkinterfaces-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨os-networkinterfaces-æ–¹æ³•"><span>ä½¿ç”¨<code>os.networkInterfaces()</code>æ–¹æ³•</span></a></h3><p>é¦–å…ˆï¼Œè¦ä½¿ç”¨<code>os</code>æ¨¡å—ä¸­çš„ä»»ä½•æ–¹æ³•ï¼Œä½ éœ€è¦å¼•å…¥è¿™ä¸ªæ¨¡å—ã€‚åœ¨ Node.js ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡<code>require()</code>å‡½æ•°æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä¸‹é¢æ˜¯å¦‚ä½•å¼•å…¥<code>os</code>æ¨¡å—å¹¶è°ƒç”¨<code>networkInterfaces()</code>æ–¹æ³•çš„ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å¼•å…¥osæ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ä½¿ç”¨networkInterfacesæ–¹æ³•è·å–ç½‘ç»œæ¥å£ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> networkInterfaces</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">networkInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">networkInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œå®ƒä¼šæ‰“å°å‡ºå½“å‰è®¾å¤‡æ‰€æœ‰å¯ç”¨ç½‘ç»œæ¥å£çš„è¯¦ç»†ä¿¡æ¯ã€‚è¾“å‡ºçš„æ ¼å¼é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†ä¸åŒç½‘ç»œæ¥å£çš„ä¿¡æ¯ï¼Œæ¯ä¸ªç½‘ç»œæ¥å£åˆæ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå±æ€§ï¼ˆå¦‚ IPv4/IPv6 åœ°å€ã€MAC åœ°å€ç­‰ï¼‰çš„æ•°ç»„ã€‚</p><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-1" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-1"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><h4 id="å¼€å‘æœ¬åœ°æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#å¼€å‘æœ¬åœ°æœåŠ¡å™¨"><span>å¼€å‘æœ¬åœ°æœåŠ¡å™¨</span></a></h4><p>å½“ä½ åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦ä¸å±€åŸŸç½‘å†…çš„å…¶ä»–è®¾å¤‡äº¤äº’çš„æœ¬åœ°æœåŠ¡å™¨æ—¶ï¼Œäº†è§£æœåŠ¡å™¨å¯èƒ½ä½¿ç”¨çš„ç½‘ç»œæ¥å£å’Œå¯¹åº”çš„ IP åœ°å€éå¸¸é‡è¦ã€‚é€šè¿‡<code>os.networkInterfaces()</code>ï¼Œä½ å¯ä»¥è½»æ¾æ‰¾å‡ºæ­£ç¡®çš„ IP åœ°å€ï¼Œå¹¶æ®æ­¤é…ç½®ä½ çš„æœåŠ¡å™¨ï¼Œç¡®ä¿å…¶ä»–è®¾å¤‡èƒ½å¤ŸæˆåŠŸè¿æ¥ã€‚</p><h4 id="ç½‘ç»œè¯Šæ–­å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œè¯Šæ–­å·¥å…·"><span>ç½‘ç»œè¯Šæ–­å·¥å…·</span></a></h4><p>å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦è¿›è¡Œç½‘ç»œè¯Šæ–­çš„åº”ç”¨ç¨‹åºï¼Œ<code>os.networkInterfaces()</code>æ–¹æ³•å¯ä»¥å¸®åŠ©ä½ è·å–å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ç½‘ç»œé…ç½®çš„åˆæ­¥ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æ£€æŸ¥è®¾å¤‡æ˜¯å¦å·²ç»åˆ†é…äº† IP åœ°å€ï¼Œæˆ–è€…ç¡®å®šå“ªä¸ªç½‘ç»œæ¥å£å½“å‰å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚</p><h4 id="å¤šç½‘å¡æƒ…å†µä¸‹çš„ä¼˜é€‰é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#å¤šç½‘å¡æƒ…å†µä¸‹çš„ä¼˜é€‰é€‰æ‹©"><span>å¤šç½‘å¡æƒ…å†µä¸‹çš„ä¼˜é€‰é€‰æ‹©</span></a></h4><p>åœ¨æŸäº›æœåŠ¡å™¨æˆ–é«˜æ€§èƒ½è®¡ç®—æœºä¸Šï¼Œå¯èƒ½ä¼šå®‰è£…å¤šä¸ªç½‘ç»œæ¥å£å¡ï¼ˆNICï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œäº†è§£å„ä¸ªç½‘ç»œæ¥å£çš„è¯¦ç»†ä¿¡æ¯å¯¹äºä¼˜åŒ–æ•°æ®ä¼ è¾“è·¯å¾„ã€è´Ÿè½½å‡è¡¡æˆ–æ•…éšœè½¬ç§»è‡³å…³é‡è¦ã€‚<code>os.networkInterfaces()</code>å…è®¸ä½ ç¼–ç¨‹æ–¹å¼è·å–è¿™äº›ä¿¡æ¯ï¼Œä»è€Œåœ¨åº”ç”¨ç¨‹åºä¸­åšå‡ºæ™ºèƒ½å†³ç­–ã€‚</p><h3 id="ç»“è®º" tabindex="-1"><a class="header-anchor" href="#ç»“è®º"><span>ç»“è®º</span></a></h3><p>æ€»ç»“æ¥è¯´ï¼Œ<code>os.networkInterfaces()</code>æ˜¯ Node.js æä¾›çš„ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥è·å–å’Œå¤„ç†æ“ä½œç³»ç»Ÿçº§åˆ«çš„ç½‘ç»œæ¥å£ä¿¡æ¯ã€‚æ— è®ºæ˜¯ç”¨äºåŸºç¡€çš„ç½‘ç»œé…ç½®ä»»åŠ¡è¿˜æ˜¯å¤æ‚çš„ç½‘ç»œåº”ç”¨å¼€å‘ï¼Œè¿™ä¸ªæ–¹æ³•éƒ½æ˜¯éå¸¸å®ç”¨çš„ã€‚é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æ›´å¥½åœ°ç†è§£è¿™ä¸ªæ–¹æ³•çš„ç”¨é€”å’Œå®é™…åº”ç”¨åœºæ™¯ã€‚</p><h2 id="os-platform" tabindex="-1"><a class="header-anchor" href="#os-platform"><span><a href="https://nodejs.org/docs/latest/api/os.html#osplatform" target="_blank" rel="noopener noreferrer">os.platform()</a></span></a></h2><p>å¥½çš„ï¼Œè®©æˆ‘ä»¬æ¥è°ˆè°ˆ Node.js ä¸­çš„ <code>os.platform()</code> å‡½æ•°ã€‚</p><p><code>os.platform()</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„ Node.js æ–¹æ³•ï¼Œå®ƒå±äº <code>os</code>ï¼ˆæ“ä½œç³»ç»Ÿï¼‰æ¨¡å—ã€‚è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå‘Šè¯‰ä½  Node.js ä»£ç æ­£åœ¨å“ªç§æ“ä½œç³»ç»Ÿå¹³å°ä¸Šè¿è¡Œã€‚è¿™ä¸ªæ–¹æ³•éå¸¸å®ç”¨ï¼Œå› ä¸ºæœ‰æ—¶å€™ä½ çš„ Node.js ä»£ç å¯èƒ½éœ€è¦æ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿè¿›è¡Œä¸åŒçš„æ“ä½œã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›å¯èƒ½è¿”å›çš„å­—ç¬¦ä¸²å€¼ï¼š</p><ul><li><code>&#39;aix&#39;</code>ï¼šä»£è¡¨ IBM AIX å¹³å°ã€‚</li><li><code>&#39;darwin&#39;</code>ï¼šä»£è¡¨ macOS å’Œ iOS æ“ä½œç³»ç»Ÿã€‚</li><li><code>&#39;freebsd&#39;</code>ï¼šä»£è¡¨ FreeBSD æ“ä½œç³»ç»Ÿã€‚</li><li><code>&#39;linux&#39;</code>ï¼šä»£è¡¨ Linux æ“ä½œç³»ç»Ÿã€‚</li><li><code>&#39;openbsd&#39;</code>ï¼šä»£è¡¨ OpenBSD æ“ä½œç³»ç»Ÿã€‚</li><li><code>&#39;sunos&#39;</code>ï¼šä»£è¡¨ SunOS æ“ä½œç³»ç»Ÿã€‚</li><li><code>&#39;win32&#39;</code>ï¼šå°½ç®¡åç§°ä¸­åŒ…å«â€œ32â€ï¼Œä½†å®ƒæŒ‡çš„æ˜¯ Microsoft Windows ç³»ç»Ÿï¼Œæ— è®ºæ˜¯ 32 ä½è¿˜æ˜¯ 64 ä½ã€‚</li></ul><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€äº›ä¾‹å­æ¥å…·ä½“çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ <code>os.platform()</code>ã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„ Node.js ä»£ç ä¸­å¼•å…¥ <code>os</code> æ¨¡å—ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç„¶åï¼Œä½ å¯ä»¥è°ƒç”¨ <code>os.platform()</code> æ–¹æ³•å¹¶å°†ç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> platform</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">platform</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">platform</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¿™ä¼šè¾“å‡ºä½ çš„æ“ä½œç³»ç»Ÿï¼Œä¾‹å¦‚ &#39;linux&#39;, &#39;darwin&#39;, &#39;win32&#39; ç­‰ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…åº”ç”¨ä¸¾ä¾‹ï¼š</p><ol><li><strong>ä¸åŒæ“ä½œç³»ç»Ÿè·¯å¾„å¤„ç†</strong> - å‡è®¾ä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ªéœ€è¦å¤„ç†æ–‡ä»¶è·¯å¾„çš„åº”ç”¨ç¨‹åºï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå¯¹æ–‡ä»¶è·¯å¾„çš„æ ¼å¼è¦æ±‚ä¸åŒã€‚ä¾‹å¦‚ï¼Œåœ¨ Windows ä¸Šï¼Œè·¯å¾„é€šå¸¸ä½¿ç”¨åæ–œæ ï¼ˆ<code>\</code>ï¼‰ï¼Œè€Œåœ¨ UNIX-like ç³»ç»Ÿä¸Šï¼Œåˆ™ä½¿ç”¨æ­£æ–œæ ï¼ˆ<code>/</code>ï¼‰ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">platform</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;win32&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // ä½¿ç”¨åæ–œæ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // ä½¿ç”¨æ­£æ–œæ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>å¯æ‰§è¡Œæ–‡ä»¶æ‰©å±•å</strong> - å¦‚æœä½ çš„åº”ç”¨ç¨‹åºéœ€è¦è¿è¡Œæˆ–ç®¡ç†ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨ Windows ç³»ç»Ÿä¸Šï¼Œé€šå¸¸è¿™äº›æ–‡ä»¶çš„æ‰©å±•åæ˜¯ <code>.exe</code>ï¼Œè€Œåœ¨å…¶ä»–ç³»ç»Ÿä¸Šåˆ™æ²¡æœ‰è¿™æ ·çš„æ‰©å±•åã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> executableName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;myapp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">platform</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;win32&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  executableName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;.exe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ç°åœ¨ä½ å¯ä»¥ç”¨æ­£ç¡®çš„æ–‡ä»¶åå»åšæ¥ä¸‹æ¥çš„äº‹æƒ…</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>ç‰¹å®šå¹³å°ä¸Šçš„åŠŸèƒ½</strong> - æœ‰æ—¶ï¼ŒæŸäº› Node.js çš„åŠŸèƒ½åªåœ¨ç‰¹å®šçš„æ“ä½œç³»ç»Ÿå¹³å°ä¸Šå¯ç”¨ã€‚é€šè¿‡æ£€æŸ¥å½“å‰å¹³å°ï¼Œä½ å¯ä»¥å†³å®šæ˜¯å¦ä½¿ç”¨è¿™äº›ç‰¹å®šçš„åŠŸèƒ½ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">platform</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;linux&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // åªåœ¨ Linux ä¸Šæ‰§è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ­¤åŠŸèƒ½åªæ”¯æŒ Linux ç³»ç»Ÿ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»çš„æ¥è¯´ï¼Œ<code>os.platform()</code> è®©ä½ èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„æ“ä½œç³»ç»Ÿç±»å‹æ¥è°ƒæ•´ä½ çš„ç¨‹åºè¡Œä¸ºï¼Œä»è€Œæä¾›è·¨å¹³å°çš„å…¼å®¹æ€§å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><h2 id="os-release" tabindex="-1"><a class="header-anchor" href="#os-release"><span><a href="https://nodejs.org/docs/latest/api/os.html#osrelease" target="_blank" rel="noopener noreferrer">os.release()</a></span></a></h2><p>Node.js çš„ <code>os.release()</code> å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œå®ƒç”¨æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä½ çš„æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚è¿™ä¸ªå‡½æ•°å±äº Node.js çš„ <code>os</code> æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æä¾›äº†å¾ˆå¤šç”¨æ¥è·å–ç³»ç»Ÿæ“ä½œä¿¡æ¯çš„å‡½æ•°ã€‚</p><h3 id="ä½¿ç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ–¹å¼"><span>ä½¿ç”¨æ–¹å¼</span></a></h3><p>é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„ Node.js ä»£ç ä¸­å¼•å…¥ <code>os</code> æ¨¡å—ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨ <code>os.release()</code> æ¥è·å–æ“ä½œç³»ç»Ÿç‰ˆæœ¬äº†ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">release</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®é™…åº”ç”¨ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨ä¾‹å­"><span>å®é™…åº”ç”¨ä¾‹å­</span></a></h3><ol><li><p><strong>ç¯å¢ƒç›‘æµ‹</strong>ï¼šå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªè·¨å¹³å°çš„åº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦æ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬æ¥è°ƒæ•´ä½ çš„åº”ç”¨ç¨‹åºçš„è¡Œä¸ºã€‚é€šè¿‡ <code>os.release()</code> è·å–åˆ°çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯å¯ä»¥å¸®åŠ©ä½ åˆ¤æ–­å½“å‰çš„è¿è¡Œç¯å¢ƒï¼Œä»è€Œåšå‡ºç›¸åº”çš„é€‚é…ã€‚</p></li><li><p><strong>æ—¥å¿—è®°å½•</strong>ï¼šåœ¨è®°å½•åº”ç”¨ç¨‹åºæ—¥å¿—æ—¶ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯å¯ä»¥è®©ä½ åœ¨è§£å†³ç”¨æˆ·åé¦ˆçš„é—®é¢˜æ—¶ï¼Œæ›´å®¹æ˜“å¤ç°å’Œç†è§£é—®é¢˜å‘ç”Ÿçš„ç¯å¢ƒã€‚æ¯”å¦‚ï¼Œä½ çš„åº”ç”¨åœ¨ç‰¹å®šçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¸Šæœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œé€šè¿‡æ—¥å¿—ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œä½ å¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ã€‚</p></li><li><p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä¸åŒçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¯èƒ½åœ¨æ€§èƒ½ç‰¹æ€§ä¸Šæœ‰æ‰€ä¸åŒã€‚äº†è§£ç”¨æˆ·çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¯ä»¥å¸®åŠ©å¼€å‘è€…ä¼˜åŒ–åº”ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦è¿›è¡Œç²¾ç»†è°ƒæ•´ä»¥é€‚åº”ç‰¹å®šæ“ä½œç³»ç»Ÿç‰¹æ€§æ—¶ã€‚</p></li><li><p><strong>åŠŸèƒ½å¼€å…³</strong>ï¼šæŸäº›åŠŸèƒ½å¯èƒ½åªåœ¨ç‰¹å®šçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¸Šå¯ç”¨æˆ–è€…è¡¨ç°æ›´ä½³ã€‚é€šè¿‡æ£€æµ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œåº”ç”¨å¯ä»¥å†³å®šæ˜¯å¦å¯ç”¨æŸä¸ªåŠŸèƒ½æˆ–è€…æä¾›æ›¿ä»£çš„å®ç°ã€‚</p></li></ol><p>é€šè¿‡ä½¿ç”¨ <code>os.release()</code>ï¼Œå¼€å‘è€…å¯ä»¥è·å–åˆ°è¿™æ ·ä¸€äº›å…³é”®ä¿¡æ¯ï¼Œä»è€Œè®©ä»–ä»¬çš„åº”ç”¨ç¨‹åºæ›´åŠ å¥å£®å’Œç”¨æˆ·å‹å¥½ã€‚</p><h2 id="os-setpriority-pid-priority" tabindex="-1"><a class="header-anchor" href="#os-setpriority-pid-priority"><span><a href="https://nodejs.org/docs/latest/api/os.html#ossetprioritypid-priority" target="_blank" rel="noopener noreferrer">os.setPriority([pid, ]priority)</a></span></a></h2><p><code>os.setPriority([pid, ]priority)</code> æ˜¯ Node.js æ“ä½œç³»ç»Ÿï¼ˆ<code>os</code>ï¼‰æ¨¡å—ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå…è®¸ä½ è®¾ç½®ç»™å®šè¿›ç¨‹çš„è°ƒåº¦ä¼˜å…ˆçº§ã€‚è¿™ä¸ªåŠŸèƒ½å¯¹äºæ§åˆ¶å’Œç®¡ç†ä¸åŒè¿›ç¨‹æ‰€åº”è¯¥è·å–çš„ CPU æ—¶é—´å¾ˆæœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç¡®ä¿å…³é”®ä»»åŠ¡èƒ½å¤Ÿå¾—åˆ°è¶³å¤Ÿçš„å¤„ç†èµ„æºã€‚</p><h3 id="å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è¯´æ˜"><span>å‚æ•°è¯´æ˜ï¼š</span></a></h3><ul><li><code>pid</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¿™æ˜¯è¿›ç¨‹ IDã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°±æ„å‘³ç€æ”¹å˜å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</li><li><code>priority</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ–°çš„ä¼˜å…ˆçº§ã€‚åœ¨ Node.js ä¸­ï¼Œè¿™ä¸ªæ•°å­—çš„èŒƒå›´é€šå¸¸æ˜¯ä»-20ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰åˆ° 19ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰ã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿå¯èƒ½æ”¯æŒä¸åŒçš„ä¼˜å…ˆçº§èŒƒå›´ã€‚</li></ul><h3 id="ä½¿ç”¨æ–¹å¼-1" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ–¹å¼-1"><span>ä½¿ç”¨æ–¹å¼ï¼š</span></a></h3><p>åœ¨ Node.js ä»£ç ä¸­ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥<code>os</code>æ¨¡å—ï¼Œç„¶åä½¿ç”¨<code>setPriority</code>æ–¹æ³•ã€‚æ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–å½“å‰è¿›ç¨‹çš„ID</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> currentPid</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">pid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è®¾ç½®å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§ä¸ºé«˜ï¼ˆä¾‹å¦‚ï¼Œ-10ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">currentPid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`Priority of the current process (</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">currentPid</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) set to high.`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Failed to set priority:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡<code>require</code>å¯¼å…¥äº†<code>os</code>æ¨¡å—ï¼Œç„¶åé€šè¿‡<code>process.pid</code>å¾—åˆ°äº†å½“å‰è¿›ç¨‹çš„ IDï¼Œå¹¶å°è¯•å°†å…¶ä¼˜å…ˆçº§è®¾ç½®ä¸º-10ï¼ˆä¸€ä¸ªè¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼‰ã€‚ä»£ç ä½¿ç”¨äº†<code>try...catch</code>è¯­å¥æ¥æ•è·å¹¶å¤„ç†ä»»ä½•å°è¯•è®¾ç½®ä¼˜å…ˆçº§æ—¶å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ã€‚</p><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-2" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-2"><span>å®é™…è¿ç”¨ç¤ºä¾‹ï¼š</span></a></h3><ol><li><p><strong>æœåŠ¡å™¨ä¸­å…³é”®æœåŠ¡çš„ä¼˜å…ˆçº§æé«˜</strong>ï¼šå‡è®¾ä½ çš„æœåŠ¡å™¨ä¸Šè¿è¡Œç€å¤šä¸ª Node.js è¿›ç¨‹ï¼Œå…¶ä¸­ä¸€ä¸ªè´Ÿè´£æ¥æ”¶å’Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚è¿™ä¸ªæœåŠ¡éå¸¸å…³é”®ï¼Œæ‰€ä»¥ä½ æƒ³ç¡®ä¿å®ƒç›¸æ¯”å…¶ä»–è¿›ç¨‹èƒ½æœ‰æ›´å¤šçš„ CPU æ—¶é—´è¿›è¡Œå¤„ç†ï¼Œé‚£ä¹ˆä½ å¯ä»¥æå‡å®ƒçš„ä¼˜å…ˆçº§ã€‚</p></li><li><p><strong>åå°ä»»åŠ¡çš„ä¼˜å…ˆçº§é™ä½</strong>ï¼šå¦‚æœä½ æœ‰ä¸€äº›ä¸å¤ªé‡è¦çš„åå°ä»»åŠ¡ï¼Œæ¯”å¦‚å®šæœŸæ¸…ç†æ—¥å¿—ã€ç”ŸæˆæŠ¥è¡¨ç­‰ï¼Œä½ å¯èƒ½å¸Œæœ›è¿™äº›ä»»åŠ¡ä¸è¦å¹²æ‰°åˆ°ä¸»è¦çš„æœåŠ¡æµç¨‹ï¼Œå› æ­¤å¯ä»¥ä¸ºè¿™äº›åå°ä»»åŠ¡è®¾ç½®ä¸€ä¸ªè¾ƒä½çš„ä¼˜å…ˆçº§ã€‚</p></li><li><p><strong>èµ„æºå¯†é›†å‹è®¡ç®—çš„åŠ¨æ€ä¼˜å…ˆçº§è°ƒæ•´</strong>ï¼šæœ‰æ—¶ï¼Œä½ çš„ç¨‹åºå¯èƒ½ä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è´Ÿè½½æƒ…å†µæ¥å†³å®šæ˜¯å¦è¦å¯åŠ¨ä¸€äº›èµ„æºå¯†é›†å‹çš„è®¡ç®—ä»»åŠ¡ã€‚åœ¨ä»»åŠ¡å¼€å§‹å‰ï¼Œä½ å¯ä»¥å°†è¿›ç¨‹çš„ä¼˜å…ˆçº§é™ä½ï¼Œè®¡ç®—å®Œæˆåå†æ¢å¤æ­£å¸¸ä¼˜å…ˆçº§ã€‚</p></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¿®æ”¹è¿›ç¨‹ä¼˜å…ˆçº§é€šå¸¸éœ€è¦æ“ä½œç³»ç»Ÿçº§åˆ«çš„æƒé™ã€‚åœ¨æŸäº›ç³»ç»Ÿä¸­ï¼Œåªæœ‰å…·å¤‡ç‰¹å®šæƒé™çš„ç”¨æˆ·ï¼ˆå¦‚ root æˆ–ç®¡ç†å‘˜ï¼‰æ‰èƒ½å¢åŠ è¿›ç¨‹ä¼˜å…ˆçº§ï¼ˆå³è®¾ä¸ºè´Ÿå€¼ï¼‰ï¼Œè€Œå‡å°‘ä¼˜å…ˆçº§ï¼ˆè®¾ä¸ºæ­£å€¼ï¼‰åˆ™æƒé™è¦æ±‚ä¸é‚£ä¹ˆä¸¥æ ¼ã€‚å°è¯•æ— æƒé™è¿›è¡Œæ“ä½œå°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><h2 id="os-tmpdir" tabindex="-1"><a class="header-anchor" href="#os-tmpdir"><span><a href="https://nodejs.org/docs/latest/api/os.html#ostmpdir" target="_blank" rel="noopener noreferrer">os.tmpdir()</a></span></a></h2><p><code>os.tmpdir()</code> æ˜¯ Node.js ä¸­çš„ä¸€ä¸ªéå¸¸å®ç”¨çš„æ–¹æ³•ï¼Œå®ƒå±äº <code>os</code> æ¨¡å—ã€‚è¿™ä¸ªæ–¹æ³•ç”¨äºè·å–æ“ä½œç³»ç»Ÿçš„é»˜è®¤ä¸´æ—¶æ–‡ä»¶ç›®å½•çš„è·¯å¾„ã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ä¸åŒçš„ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œæ¯”å¦‚ Windows ä¸Šå¯èƒ½æ˜¯ <code>C:\Windows\Temp</code>ï¼Œè€Œåœ¨ Linux æˆ– macOS ä¸Šé€šå¸¸æ˜¯ <code>/tmp</code>ã€‚è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾é‚£äº›ä¸éœ€è¦æ°¸ä¹…ä¿å­˜çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸´æ—¶æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶ã€‚</p><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-3" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-3"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><ol><li><p><strong>ä¸´æ—¶æ–‡ä»¶åˆ›å»º</strong>ï¼šå½“ä½ çš„ç¨‹åºéœ€è¦åˆ›å»ºä¸€äº›ä¸´æ—¶æ–‡ä»¶ï¼Œç”¨äºå¤„ç†æŸäº›æ•°æ®ï¼Œä½†å®Œæˆåä¸å†éœ€è¦è¿™äº›æ–‡ä»¶æ—¶ï¼Œ<code>os.tmpdir()</code> å¯ä»¥å‘Šè¯‰ä½ å°†è¿™äº›ä¸´æ—¶æ–‡ä»¶æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹æ˜¯æœ€ä½³çš„ã€‚è¿™æ ·ï¼Œä½ çš„åº”ç”¨å°±å¯ä»¥éµå¾ªæ“ä½œç³»ç»Ÿçš„æœ€ä½³å®è·µï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç ä¸€ä¸ªç‰¹å®šçš„ç›®å½•ã€‚</p></li><li><p><strong>è·¨å¹³å°å…¼å®¹æ€§</strong>ï¼šå¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæ—¢è¦åœ¨ Windows ä¸Šè¿è¡Œï¼Œä¹Ÿè¦åœ¨ macOS æˆ– Linux ä¸Šè¿è¡Œçš„ Node.js åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ <code>os.tmpdir()</code> å¯ä»¥ç¡®ä¿ä½ çš„åº”ç”¨èƒ½å¤Ÿåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šæ­£ç¡®åœ°æ‰¾åˆ°ä¸´æ—¶ç›®å½•ï¼Œä»è€Œæé«˜ä»£ç çš„å¯ç§»æ¤æ€§ã€‚</p></li><li><p><strong>ç¼“å­˜æ–‡ä»¶</strong>ï¼šåœ¨ä¸€äº›éœ€è¦ç¼“å­˜å¤§é‡æ•°æ®ä½†ä¸éœ€è¦æ°¸ä¹…å­˜å‚¨çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œæ¯”å¦‚ç½‘ç«™å†…å®¹çš„ç¼“å­˜ï¼Œä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚é€šè¿‡ <code>os.tmpdir()</code> è·å–ä¸´æ—¶ç›®å½•çš„è·¯å¾„ï¼Œä½ çš„åº”ç”¨å¯ä»¥åœ¨è¿™é‡Œåˆ›å»ºç¼“å­˜æ–‡ä»¶ï¼Œç³»ç»Ÿå¯èƒ½ä¼šåœ¨è¿™äº›æ–‡ä»¶ä¸å†è¢«éœ€è¦æ—¶è‡ªåŠ¨æ¸…ç†å®ƒä»¬ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ é€»è¾‘æ¥ç®¡ç†è¿™äº›ä¸´æ—¶æ–‡ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚</p></li></ol><h3 id="ç¤ºä¾‹ä»£ç -1" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹ä»£ç -1"><span>ç¤ºä¾‹ä»£ç </span></a></h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>os.tmpdir()</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–ä¸´æ—¶ç›®å½•çš„è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> tempDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tmpdir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`ä¸´æ—¶æ–‡ä»¶ç›®å½•è·¯å¾„æ˜¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">tempDir</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç é¦–å…ˆå¯¼å…¥ Node.js çš„ <code>os</code> æ¨¡å—ï¼Œç„¶åä½¿ç”¨ <code>os.tmpdir()</code> æ–¹æ³•è·å–äº†å½“å‰æ“ä½œç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•è·¯å¾„ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•ç›´æ¥çš„æ–¹å¼æ¥æŸ¥çœ‹å’Œä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•ã€‚</p><h2 id="os-totalmem" tabindex="-1"><a class="header-anchor" href="#os-totalmem"><span><a href="https://nodejs.org/docs/latest/api/os.html#ostotalmem" target="_blank" rel="noopener noreferrer">os.totalmem()</a></span></a></h2><p>Node.js çš„ <code>os.totalmem()</code> å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„æ–¹æ³•ï¼Œå®ƒå…è®¸ä½ è·å–å½“å‰æœºå™¨çš„æ€»å†…å­˜é‡ã€‚è¿™ä¸ªå‡½æ•°å±äº Node.js çš„ <code>os</code>ï¼ˆæ“ä½œç³»ç»Ÿï¼‰æ¨¡å—ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æä¾›ä¸€äº›åŸºæœ¬çš„ç³»ç»Ÿæ“ä½œåŠŸèƒ½ï¼Œæ¯”å¦‚è·å– CPU çš„ä¿¡æ¯ã€å¹³å°ä¿¡æ¯å’Œå†…å­˜ä¿¡æ¯ç­‰ã€‚</p><p>åœ¨ Node.js v21.7.1 ä¸­ï¼Œ<code>os.totalmem()</code> çš„ç”¨æ³•ä¿æŒç®€å•ç›´æ¥ã€‚å½“ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºæœºå™¨çš„æ€»å†…å­˜é‡ï¼Œå•ä½æ˜¯å­—èŠ‚ã€‚è¿™ä¸ªä¿¡æ¯å¯¹äºæ‰§è¡Œå†…å­˜å¯†é›†å‹æ“ä½œæˆ–è€…ä¼˜åŒ–åº”ç”¨æ€§èƒ½æ¥è¯´éå¸¸é‡è¦ã€‚</p><h3 id="å®é™…è¿ç”¨ä¾‹å­-1" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ä¾‹å­-1"><span>å®é™…è¿ç”¨ä¾‹å­</span></a></h3><p><strong>1. ç›‘æ§åº”ç”¨å†…å­˜ä½¿ç”¨æƒ…å†µï¼š</strong></p><p>æ¯”å¦‚ï¼Œä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª Node.js åº”ç”¨ï¼Œæƒ³è¦ç¡®ä¿å®ƒä¸ä¼šæ¶ˆè€—è¿‡å¤šçš„å†…å­˜ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>os.totalmem()</code> ç»“åˆ <code>os.freemem()</code> æ¥ç›‘æ§ç³»ç»Ÿçš„æ€»å†…å­˜å’Œå‰©ä½™å†…å­˜ï¼Œä»è€Œè¯„ä¼°ä½ çš„åº”ç”¨æ˜¯å¦åœ¨æ­£å¸¸çš„å†…å­˜æ¶ˆè€—èŒƒå›´å†…ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–ç³»ç»Ÿæ€»å†…å­˜</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> totalMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">totalmem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–ç³»ç»Ÿå‰©ä½™å†…å­˜</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> freeMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">freemem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`æ€»å†…å­˜: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">totalMemory</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`å‰©ä½™å†…å­˜: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">freeMemory</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. ç³»ç»Ÿä¿¡æ¯å±•ç¤ºå·¥å…·ï¼š</strong></p><p>å¦‚æœä½ æ­£åœ¨åˆ¶ä½œä¸€ä¸ªç³»ç»Ÿä¿¡æ¯å±•ç¤ºçš„å·¥å…·æˆ–è€…ä»ªè¡¨ç›˜ï¼Œå±•ç¤ºæœºå™¨çš„å½“å‰çŠ¶æ€ï¼Œ<code>os.totalmem()</code> å¯ä»¥ç”¨æ¥è·å–å¹¶æ˜¾ç¤ºæ€»å†…å­˜é‡ã€‚è¿™å¯¹äºæƒ³è¦ä¸€ç›®äº†ç„¶æŸ¥çœ‹ç³»ç»Ÿå¥åº·çŠ¶å†µçš„ç”¨æˆ·æ¥è¯´éå¸¸æœ‰ç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–å¹¶æ˜¾ç¤ºç³»ç»Ÿæ€»å†…å­˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`ç³»ç»Ÿæ€»å†…å­˜: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">totalmem</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GB`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡å°†å­—èŠ‚è½¬æ¢ä¸ºæ›´æ˜“äºç†è§£çš„ GBï¼ˆGigabytesï¼‰ï¼Œç”¨æˆ·å¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£ä»–ä»¬çš„æœºå™¨æœ‰å¤šå°‘å†…å­˜ã€‚</p><p><strong>3. æ€§èƒ½ä¼˜åŒ–å†³ç­–ï¼š</strong></p><p>å¼€å‘è€…åœ¨è¿›è¡Œæ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œäº†è§£ç³»ç»Ÿçš„æ€»å†…å­˜å®¹é‡æ˜¯éå¸¸é‡è¦çš„ã€‚é€šè¿‡æ¯”è¾ƒåº”ç”¨ç¨‹åºçš„å†…å­˜ä½¿ç”¨é‡å’Œç³»ç»Ÿçš„æ€»å†…å­˜é‡ï¼Œå¼€å‘è€…å¯ä»¥åšå‡ºæ˜¯å¦éœ€è¦ä¼˜åŒ–åº”ç”¨ä»¥å‡å°‘å†…å­˜ä½¿ç”¨çš„å†³ç­–ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è®¡ç®—ç³»ç»Ÿå†…å­˜ä½¿ç”¨ç‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> totalMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">totalmem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> freeMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">freemem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> usedMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> totalMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> freeMemory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> memoryUsagePercent</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">usedMemory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> totalMemory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">//æ–‡æ›¸ã¯æ¡œèŒ¶ã‹ã‚‰æ¥ã¦ã„ã¾ã™ã€‚å•†ç”¨ç›®çš„ã§ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`å†…å­˜ä½¿ç”¨ç‡: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">memoryUsagePercent</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">%`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›ä¾‹å­å±•ç¤ºäº† <code>os.totalmem()</code> åœ¨ä¸åŒåœºæ™¯ä¸‹çš„å®é™…åº”ç”¨ï¼Œå¸®åŠ©ä½ ç†è§£å’Œè¯„ä¼°ç³»ç»Ÿèµ„æºï¼Œä»è€Œåšå‡ºæ›´æ˜æ™ºçš„å†³ç­–ã€‚</p><h2 id="os-type" tabindex="-1"><a class="header-anchor" href="#os-type"><span><a href="https://nodejs.org/docs/latest/api/os.html#ostype" target="_blank" rel="noopener noreferrer">os.type()</a></span></a></h2><p>Node.js æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œå®ƒå…è®¸ä½ åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œ JavaScriptã€‚å…¶ä¸­ï¼Œ<code>os</code> æ¨¡å—æ˜¯ Node.js çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†ä¸€äº›åŸºæœ¬çš„æ“ä½œç³»ç»Ÿç›¸å…³çš„å®ç”¨åŠŸèƒ½ã€‚</p><h3 id="os-type-1" tabindex="-1"><a class="header-anchor" href="#os-type-1"><span>os.type()</span></a></h3><p>åœ¨ Node.js ä¸­ï¼Œ<code>os.type()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ“ä½œç³»ç»Ÿçš„åç§°ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œè°ƒç”¨å®ƒä¼šç«‹å³è¿”å›ç»“æœï¼Œä¸éœ€è¦ç­‰å¾…ã€‚è¿™ä¸ªæ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒèƒ½å¸®åŠ©ä½ ç¡®å®šä½ çš„ä»£ç æ­£åœ¨å“ªç§ç±»å‹çš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œä»è€Œå¯ä»¥åšå‡ºæ¡ä»¶æ€§çš„æ“ä½œæ¥é€‚é…ä¸åŒçš„ç³»ç»Ÿç¯å¢ƒã€‚</p><p>å®é™…ä¸Šï¼Œ<code>os.type()</code> è¿”å›çš„å€¼é€šå¸¸æ˜¯å¯¹åº”äº C++ <code>uname()</code> å‡½æ•°çš„è¾“å‡ºã€‚è¿™æ„å‘³ç€åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°å¦‚ä¸‹çš„ä¸€äº›è¿”å›å€¼ï¼š</p><ul><li>åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œå®ƒè¿”å› <code>&quot;Windows_NT&quot;</code>ã€‚</li><li>åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œå®ƒè¿”å› <code>&quot;Linux&quot;</code>ã€‚</li><li>åœ¨ macOS ç³»ç»Ÿä¸Šï¼Œå®ƒè¿”å› <code>&quot;Darwin&quot;</code>ï¼ˆmacOS åŸºäº Darwin æ“ä½œç³»ç»Ÿï¼‰ã€‚</li></ul><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-4" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-4"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><h4 id="ç¤ºä¾‹-1-ç®€å•ä½¿ç”¨-os-type" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-1-ç®€å•ä½¿ç”¨-os-type"><span>ç¤ºä¾‹ 1ï¼šç®€å•ä½¿ç”¨ os.type()</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºå½“å‰æ“ä½œç³»ç»Ÿç±»å‹</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ åœ¨ Windows ç³»ç»Ÿä¸Šè¿è¡Œè¿™æ®µä»£ç ï¼Œå®ƒå¯èƒ½ä¼šè¾“å‡º <code>Windows_NT</code>ã€‚</p><h4 id="ç¤ºä¾‹-2-æ ¹æ®æ“ä½œç³»ç»Ÿç±»å‹æ‰§è¡Œç‰¹å®šæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-2-æ ¹æ®æ“ä½œç³»ç»Ÿç±»å‹æ‰§è¡Œç‰¹å®šæ“ä½œ"><span>ç¤ºä¾‹ 2ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿç±»å‹æ‰§è¡Œç‰¹å®šæ“ä½œ</span></a></h4><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªè·¨å¹³å°çš„ Node.js åº”ç”¨ç¨‹åºï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®ç”¨æˆ·çš„æ“ä½œç³»ç»Ÿç±»å‹æ¥å†³å®šæ‰§è¡Œå“ªäº›ç‰¹å®šçš„æ“ä½œã€‚æ¯”å¦‚ï¼Œè·¯å¾„å¤„ç†åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­å¯èƒ½ç•¥æœ‰ä¸åŒï¼Œæˆ–è€…ä½ æƒ³åœ¨æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•å½“å‰çš„æ“ä½œç³»ç»Ÿä¿¡æ¯ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–æ“ä½œç³»ç»Ÿç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Linux&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;This is running on a Linux system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // æ‰§è¡Œä¸€äº›ä»…åœ¨ Linux ç³»ç»Ÿä¸­æœ‰æ•ˆçš„æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Windows_NT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;This is running on a Windows system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // æ‰§è¡Œä¸€äº›é’ˆå¯¹ Windows ç³»ç»Ÿçš„ç‰¹å®šæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Darwin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;This is a macOS system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // æ‰§è¡Œä¸€äº›ä¸“é—¨ä¸º macOS è®¾è®¡çš„ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Unknown operating system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œä½ å¯ä»¥æ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿæ¥ä¼˜åŒ–ä½ çš„ç¨‹åºï¼Œä½¿å…¶æ›´åŠ çµæ´»å’Œå¥å£®ã€‚æ¯”å¦‚ï¼Œåœ¨æ–‡ä»¶è·¯å¾„å¤„ç†ã€å®‰è£…ä¾èµ–æˆ–æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æ—¶ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå¯èƒ½éœ€è¦ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚</p><h3 id="æ€»ç»“-1" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-1"><span>æ€»ç»“</span></a></h3><p><code>os.type()</code> æ˜¯ Node.js ä¸­ä¸€ä¸ªç®€å•å´éå¸¸å®ç”¨çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è·å–å½“å‰è¿è¡Œçš„æ“ä½œç³»ç»Ÿç±»å‹ã€‚è¿™åœ¨å¼€å‘è·¨å¹³å°åº”ç”¨ç¨‹åºæ—¶å°¤å…¶é‡è¦ï¼Œå› ä¸ºå®ƒå…è®¸ä½ çš„åº”ç”¨ç¨‹åºæ›´å¥½åœ°é€‚åº”ä¸åŒçš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p><h2 id="os-uptime" tabindex="-1"><a class="header-anchor" href="#os-uptime"><span><a href="https://nodejs.org/docs/latest/api/os.html#osuptime" target="_blank" rel="noopener noreferrer">os.uptime()</a></span></a></h2><p>Node.js çš„ <code>os.uptime()</code> å‡½æ•°ç”¨äºè·å–ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œæ—¶é—´ï¼Œå³ä»æœ€åä¸€æ¬¡å¯åŠ¨åˆ°ç°åœ¨ç³»ç»Ÿå·²ç»æŒç»­è¿è¡Œäº†å¤šå°‘ç§’ã€‚è¿™ä¸ªåŠŸèƒ½ç”± Node.js ä¸­çš„ <code>os</code> æ¨¡å—æä¾›ï¼Œ<code>os</code> æ¨¡å—åŒ…å«äº†ä¸€ç³»åˆ—æä¾›åŸºæœ¬æ“ä½œç³»ç»Ÿç›¸å…³æ“ä½œçš„æ–¹æ³•ã€‚</p><p>è¦ä½¿ç”¨ <code>os.uptime()</code>ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥ Node.js çš„ <code>os</code> æ¨¡å—ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¹‹åï¼Œä½ å°±å¯ä»¥è°ƒç”¨ <code>os.uptime()</code> æ¥è·å–ç³»ç»Ÿçš„è¿è¡Œæ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">uptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`ç³»ç»Ÿå·²è¿è¡Œï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ç§’`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…è¿ç”¨ç¤ºä¾‹ï¼š</p><ol><li><strong>ç›‘æ§å’Œæ—¥å¿—è®°å½•</strong>ï¼š<br> å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦ç›‘æ§ç³»ç»Ÿå¥åº·çŠ¶å†µçš„åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚æœåŠ¡å™¨çš„ç®¡ç†å·¥å…·ï¼Œé‚£ä¹ˆçŸ¥é“ç³»ç»Ÿè¿è¡Œäº†å¤šé•¿æ—¶é—´æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚è¾ƒé•¿çš„æ­£å¸¸è¿è¡Œæ—¶é—´å¯èƒ½è¡¨ç¤ºç³»ç»Ÿç¨³å®šï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœç³»ç»Ÿå¾ˆä¹…æ²¡æœ‰é‡å¯ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥æ˜¯å¦å› ä¸ºå†…å­˜æ³„æ¼ç­‰é—®é¢˜å¯¼è‡´èµ„æºè€—å°½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥åˆ©ç”¨ <code>os.uptime()</code> è·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œå¹¶ç»“åˆå…¶ä»–ä¿¡æ¯è®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œæ•…éšœæ’é™¤å’Œæ€§èƒ½åˆ†æã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> logSystemUptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">uptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`[ç›‘æ§æ—¥å¿—] ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ç§’`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">logSystemUptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3600000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// æ¯å°æ—¶è®°å½•ä¸€æ¬¡ç³»ç»Ÿè¿è¡Œæ—¶é—´</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>ç”¨æˆ·ç•Œé¢æ˜¾ç¤º</strong>ï¼š<br> å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦å±•ç¤ºç³»ç»Ÿä¿¡æ¯çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ï¼Œä¾‹å¦‚ï¼Œç³»ç»Ÿç®¡ç†æˆ–è€…æ€§èƒ½ç›‘æ§è½¯ä»¶ï¼Œä½ å¯èƒ½æƒ³åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œæ—¶é—´ã€‚é€šè¿‡ <code>os.uptime()</code> è·å¾—çš„ä¿¡æ¯å¯ä»¥è½¬æ¢æˆæ›´æ˜“è¯»çš„æ ¼å¼ï¼ˆä¾‹å¦‚å¤©ã€å°æ—¶ã€åˆ†é’Ÿï¼‰ï¼Œç„¶åæ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> formatUptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">uptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> days</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3600</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 24</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> hours</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3600</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 24</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3600</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> minutes</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3600</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> seconds</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> `</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">days</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> å¤©, </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">hours</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> å°æ—¶, </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">minutes</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> åˆ†é’Ÿ, </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ç§’`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`ç³»ç»Ÿå·²è¿è¡Œï¼š</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">formatUptime</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">uptime</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">())</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>å¥åº·æ£€æŸ¥è‡ªåŠ¨åŒ–</strong>ï¼š<br> åœ¨è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç®¡ç†ç³»ç»Ÿçš„åœºæ™¯ä¸­ï¼Œæ¯”å¦‚ä½¿ç”¨ Ansibleã€Puppet æˆ– Kubernetes è¿™ç±»å·¥å…·ï¼Œä½ å¯èƒ½éœ€è¦è„šæœ¬å®šæœŸæ£€æŸ¥ç³»ç»Ÿçš„å¥åº·çŠ¶æ€ã€‚ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶é—´æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚é€šè¿‡ç¼–å†™è„šæœ¬è°ƒç”¨ <code>os.uptime()</code> å¹¶åˆ†æå¾—åˆ°çš„ç»“æœï¼Œå¯ä»¥å¸®åŠ©åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦éœ€è¦é‡å¯æˆ–æ‰§è¡Œå…¶ä»–ç»´æŠ¤æ“ä½œã€‚</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å‡è®¾å¦‚æœç³»ç»Ÿè¿è¡Œæ—¶é—´è¶…è¿‡30å¤©ï¼Œåˆ™æ‰“å°æç¤ºä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> MAX_UPTIME</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 24</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3600</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">uptime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uptime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> MAX_UPTIME</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ³¨æ„ï¼šç³»ç»Ÿå·²è¿ç»­è¿è¡Œè¶…è¿‡30å¤©ï¼Œå»ºè®®æ£€æŸ¥æ˜¯å¦éœ€è¦é‡å¯æˆ–ç»´æŠ¤ã€‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡è¿™äº›ç¤ºä¾‹ï¼Œä½ å¯ä»¥çœ‹åˆ° <code>os.uptime()</code> åœ¨ä¸åŒåœºæ™¯ä¸‹çš„å®é™…åº”ç”¨ï¼Œä»è€Œç†è§£å…¶ç”¨é€”ä¸ä»·å€¼ã€‚</p><h2 id="os-userinfo-options" tabindex="-1"><a class="header-anchor" href="#os-userinfo-options"><span><a href="https://nodejs.org/docs/latest/api/os.html#osuserinfooptions" target="_blank" rel="noopener noreferrer">os.userInfo([options])</a></span></a></h2><p>å½“ä½ åœ¨å­¦ä¹ ç¼–ç¨‹æ—¶ï¼Œç†è§£å¦‚ä½•ä½¿ç”¨ Node.js æä¾›çš„å„ç§æ¨¡å—å’Œå‡½æ•°æ˜¯éå¸¸é‡è¦çš„ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†èšç„¦åœ¨<code>os.userInfo([options])</code>è¿™ä¸ªå‡½æ•°ä¸Šï¼Œå®ƒæ˜¯ Node.js ä¸­çš„ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œå±äº<code>os</code>ï¼ˆæ“ä½œç³»ç»Ÿï¼‰æ¨¡å—ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯os-userinfo-options" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯os-userinfo-options"><span>ä»€ä¹ˆæ˜¯<code>os.userInfo([options])</code></span></a></h3><p>é¦–å…ˆï¼Œ<code>os</code>æ¨¡å—æä¾›äº†ä¸€äº›åŸºæœ¬çš„ç³»ç»Ÿæ“ä½œå‡½æ•°ï¼Œå®ƒèƒ½è®©ä½ è·å–åˆ°ä¸æ“ä½œç³»ç»Ÿç›¸å…³çš„ä¿¡æ¯å’Œè¿›è¡Œæ“ä½œã€‚è€Œ<code>os.userInfo([options])</code>è¿™ä¸ªå‡½æ•°ï¼Œå°±æ˜¯ç”¨æ¥è·å–å½“å‰æ“ä½œç³»ç»Ÿä¸Šçš„å½“å‰ç”¨æˆ·ä¿¡æ¯çš„ã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨"><span>å¦‚ä½•ä½¿ç”¨</span></a></h3><p>è¦ä½¿ç”¨<code>os.userInfo()</code>ï¼Œä½ é¦–å…ˆéœ€è¦å¼•å…¥ Node.js ä¸­çš„<code>os</code>æ¨¡å—ï¼Œç„¶åè°ƒç”¨<code>userInfo()</code>æ–¹æ³•ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å¼•å…¥osæ¨¡å—</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> userInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">userInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è°ƒç”¨os.userInfo()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">userInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// æ‰“å°å‡ºç”¨æˆ·ä¿¡æ¯</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œå®ƒä¼šæ‰“å°å‡ºå½“å‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œé€šå¸¸åŒ…æ‹¬ç”¨æˆ·åã€ç”¨æˆ· IDã€ä¸»ç›®å½•è·¯å¾„å’Œé»˜è®¤ shell ç­‰ã€‚</p><h3 id="å‚æ•°è¯´æ˜-1" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è¯´æ˜-1"><span>å‚æ•°è¯´æ˜</span></a></h3><p><code>os.userInfo([options])</code>å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•°<code>options</code>ï¼Œè¿™ä¸ªå‚æ•°å…è®¸ä½ æŒ‡å®šæƒ³è¦ä»¥ä½•ç§å­—ç¬¦ä¸²ç¼–ç è¿”å›ç”¨æˆ·ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p><ul><li><code>encoding: &#39;utf8&#39;</code>ï¼šæŒ‡å®šè¿”å›å€¼çš„å­—ç¬¦ä¸²ç¼–ç ä¸º UTF-8ã€‚</li></ul><p>å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡å®š<code>options</code>ï¼Œåˆ™é»˜è®¤è¿”å›å€¼çš„å­—ç¬¦ä¸²éƒ¨åˆ†å°†ä»¥ç³»ç»Ÿé»˜è®¤çš„ç¼–ç æ ¼å¼è¿”å›ã€‚</p><h3 id="å®é™…åº”ç”¨ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨ä¸¾ä¾‹"><span>å®é™…åº”ç”¨ä¸¾ä¾‹</span></a></h3><ol><li><p><strong>ç³»ç»Ÿæ£€æŸ¥å·¥å…·</strong>ï¼šå‡è®¾ä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ª Node.js åº”ç”¨ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„ç”¨æˆ·åŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶æˆ–æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚ä½ å¯ä»¥ä½¿ç”¨<code>os.userInfo()</code>æ¥è·å–å½“å‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç„¶åæ ¹æ®ç”¨æˆ·åæˆ–å…¶ä»–ä¿¡æ¯æ¥å†³å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚</p></li><li><p><strong>æ—¥å¿—è®°å½•</strong>ï¼šåœ¨è¿›è¡Œæ–‡ä»¶æ“ä½œæˆ–ç½‘ç»œè¯·æ±‚æ—¶ï¼Œä¹Ÿè®¸ä½ æƒ³åœ¨æ—¥å¿—ä¸­è®°å½•æ˜¯å“ªä¸ªç”¨æˆ·æ‰§è¡Œçš„è¿™äº›æ“ä½œã€‚é€šè¿‡<code>os.userInfo()</code>è·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯å¯ä»¥å¸®åŠ©ä½ å®ç°è¿™ä¸€ç‚¹ã€‚</p></li><li><p><strong>ç”¨æˆ·ç›®å½•æ“ä½œ</strong>ï¼šæœ‰æ—¶å€™ï¼Œä½ çš„åº”ç”¨å¯èƒ½éœ€è¦è¯»å–æˆ–ä¿å­˜æ–‡ä»¶åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ä¸‹ã€‚ä½¿ç”¨<code>os.userInfo()</code>å¯ä»¥æ–¹ä¾¿åœ°è·å–ç”¨æˆ·çš„ä¸»ç›®å½•è·¯å¾„ï¼Œä»è€Œæ­£ç¡®åœ°å®šä½åˆ°æ–‡ä»¶ã€‚</p></li></ol><h3 id="æ€»ç»“-2" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-2"><span>æ€»ç»“</span></a></h3><p>æ€»çš„æ¥è¯´ï¼Œ<code>os.userInfo([options])</code>æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥å¸®ä½ è·å–åˆ°å½“å‰æ“ä½œç³»ç»Ÿç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚æ— è®ºæ˜¯åœ¨å¼€å‘è·¨å¹³å°çš„åº”ç”¨ç¨‹åºï¼Œè¿˜æ˜¯åœ¨è¿›è¡Œç³»ç»Ÿç®¡ç†å’Œç»´æŠ¤æ—¶ï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨è¿™ä¸ªå‡½æ•°éƒ½ä¼šç»™ä½ å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©ã€‚é€šè¿‡ä¸Šè¿°çš„ä¾‹å­å’Œè¯´æ˜ï¼Œå¸Œæœ›ä½ å¯¹<code>os.userInfo()</code>æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚</p><h2 id="os-version" tabindex="-1"><a class="header-anchor" href="#os-version"><span><a href="https://nodejs.org/docs/latest/api/os.html#osversion" target="_blank" rel="noopener noreferrer">os.version()</a></span></a></h2><p>åœ¨ Node.js v21.7.1 ä¸­ï¼Œ<code>os.version()</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–æ“ä½œç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯çš„æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«äº†å…³äºæ“ä½œç³»ç»Ÿå†…æ ¸çš„è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚å†…æ ¸çš„ç‰ˆæœ¬å·ã€æ„å»ºæ—¥æœŸå’Œæ„å»ºç±»å‹ç­‰ã€‚</p><p>è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºè°ƒè¯•å’Œè¯Šæ–­ç³»ç»Ÿé—®é¢˜æ—¶ï¼Œäº†è§£æ“ä½œç³»ç»Ÿçš„å…·ä½“ç‰ˆæœ¬ä¿¡æ¯ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…ç¡®å®šæŸäº›ç‰¹æ€§æ˜¯å¦å¯ç”¨ï¼Œæˆ–è€…æŸäº›é—®é¢˜æ˜¯å¦ä¸ç‰¹å®šçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ç›¸å…³ã€‚</p><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-5" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-5"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><ol><li><p><strong>æ£€æŸ¥æ“ä½œç³»ç»Ÿç‰ˆæœ¬</strong>ï¼šå¯ä»¥ä½¿ç”¨ <code>os.version()</code> æ¥æ£€æŸ¥è¿è¡Œ Node.js åº”ç”¨çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿åº”ç”¨ä¸æ“ä½œç³»ç»Ÿå…¼å®¹ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¾“å‡ºç¤ºä¾‹: &#39;Linux 5.4.0-42-generic #46-Ubuntu SMP Fri Jul 10 00:24:02 UTC 2020&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>è¯Šæ–­ç³»ç»Ÿé—®é¢˜</strong>ï¼šåœ¨è¯Šæ–­ç³»ç»Ÿçº§åˆ«çš„é—®é¢˜æ—¶ï¼Œäº†è§£æ“ä½œç³»ç»Ÿçš„å…·ä½“ç‰ˆæœ¬ä¿¡æ¯å¯èƒ½ä¼šæœ‰åŠ©äºå®šä½é—®é¢˜ã€‚å¯ä»¥å°† <code>os.version()</code> çš„è¾“å‡ºä½œä¸ºè¯Šæ–­æ—¥å¿—çš„ä¸€éƒ¨åˆ†ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å°†æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯å†™å…¥æ—¥å¿—æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">writeFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;system.log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`OS Version: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æ¡ä»¶æ€§ä»£ç æ‰§è¡Œ</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬æ¥æ‰§è¡Œä¸åŒçš„ä»£ç ã€‚ä½¿ç”¨ <code>os.version()</code> å¯ä»¥å¸®åŠ©ä½ å®ç°è¿™ç§æ¡ä»¶æ€§é€»è¾‘ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Ubuntu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Running on Ubuntu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // åœ¨ Ubuntu ç³»ç»Ÿä¸Šæ‰§è¡Œç‰¹å®šæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Not running on Ubuntu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // åœ¨å…¶ä»–ç³»ç»Ÿä¸Šæ‰§è¡Œå…¶ä»–æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>æ€»çš„æ¥è¯´ï¼Œ<code>os.version()</code> æ˜¯ä¸€ä¸ªåœ¨éœ€è¦è·å–æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯æ—¶éå¸¸æœ‰ç”¨çš„æ–¹æ³•ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…åœ¨è°ƒè¯•å’Œè¯Šæ–­é—®é¢˜æ—¶æ›´åŠ ç²¾ç¡®åœ°äº†è§£ç³»ç»Ÿç¯å¢ƒï¼Œä»¥åŠåœ¨ç¼–å†™è·¨å¹³å°åº”ç”¨æ—¶å¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿé—´çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p><h2 id="os-constants-1" tabindex="-1"><a class="header-anchor" href="#os-constants-1"><span><a href="https://nodejs.org/docs/latest/api/os.html#os-constants" target="_blank" rel="noopener noreferrer">OS constants</a></span></a></h2><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œå®ƒè®©å¼€å‘è€…å¯ä»¥ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯çš„åº”ç”¨ã€‚è€Œåœ¨æ„å»ºåº”ç”¨æ—¶ï¼Œç»å¸¸éœ€è¦ä¸æ“ä½œç³»ç»Ÿ(OS)è¿›è¡Œäº¤äº’ï¼Œæ¯”å¦‚è·å–ç³»ç»Ÿä¿¡æ¯ã€æ“ä½œæ–‡ä»¶ç³»ç»Ÿç­‰ã€‚ä¸ºäº†æ–¹ä¾¿è¿™äº›æ“ä½œï¼ŒNode.js æä¾›äº†<code>os</code>æ¨¡å—ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ç³»åˆ—çš„å¸¸é‡(<code>constants</code>)ï¼Œå¸®åŠ©ä½ æ›´å®¹æ˜“åœ°è¿›è¡Œæ“ä½œç³»ç»Ÿçº§åˆ«çš„ç¼–ç¨‹ã€‚</p><p>åœ¨ Node.js v21.7.1 ä¸­ï¼Œ<code>os.constants</code>å¯¹è±¡åŒ…å«ç€è®¸å¤šæœ‰åŠ©äºå¤„ç†æ–‡ä»¶ç³»ç»Ÿã€é”™è¯¯å¤„ç†ä»¥åŠè¿›ç¨‹ä¿¡å·ç­‰æ–¹é¢çš„å¸¸é‡ã€‚ä¸‹é¢ï¼Œæˆ‘ä¼šé€šè¿‡å‡ ä¸ªç®€å•çš„ç¤ºä¾‹æ¥è¯´æ˜<code>os.constants</code>çš„ç”¨æ³•ï¼š</p><h3 id="_1-é”™è¯¯ä»£ç -error-codes" tabindex="-1"><a class="header-anchor" href="#_1-é”™è¯¯ä»£ç -error-codes"><span>1. é”™è¯¯ä»£ç ï¼ˆError Codesï¼‰</span></a></h3><p>å½“ä½ è¿›è¡Œæ–‡ä»¶æ“ä½œï¼ˆå¦‚è¯»å–æˆ–å†™å…¥æ–‡ä»¶ï¼‰æˆ–ç½‘ç»œé€šä¿¡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°é”™è¯¯ã€‚<code>os.constants.errno</code>æä¾›äº†ä¸€ç³»åˆ—æ ‡å‡†çš„é”™è¯¯ç ï¼Œä½¿å¾—ä½ å¯ä»¥åœ¨ä»£ç ä¸­å¼•ç”¨å®ƒä»¬æ¥æ£€æŸ¥ç‰¹å®šç±»å‹çš„é”™è¯¯ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>ENOENT</code>ä»£è¡¨â€œNo such file or directoryâ€ï¼Œæ„å‘³ç€å°è¯•è®¿é—®çš„æ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/path/to/nonexistent/file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">errno</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">ENOENT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;å‘ç”Ÿäº†å…¶ä»–é”™è¯¯&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-ä¿¡å·é‡-signals" tabindex="-1"><a class="header-anchor" href="#_2-ä¿¡å·é‡-signals"><span>2. ä¿¡å·é‡ï¼ˆSignalsï¼‰</span></a></h3><p>æ“ä½œç³»ç»Ÿé€šè¿‡ä¿¡å·ä¸è¿è¡Œä¸­çš„ç¨‹åºè¿›è¡Œé€šä¿¡ï¼Œä¾‹å¦‚ï¼Œ<code>SIGKILL</code>æ˜¯å‘Šè¯‰è¿›ç¨‹å¼ºåˆ¶ç»ˆæ­¢ï¼Œè€Œ<code>SIGINT</code>é€šå¸¸æ˜¯ç”¨æˆ·æŒ‰ä¸‹<code>Ctrl+C</code>å‘é€çš„ä¸­æ–­ä¿¡å·ã€‚<code>os.constants.signals</code>æä¾›äº†è¿™äº›ä¿¡å·çš„æ˜ å°„ï¼Œå…è®¸ä½ åœ¨ç¨‹åºä¸­å¼•ç”¨å¹¶ç›¸åº”å¤„ç†ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">signals</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">SIGINT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ”¶åˆ°SIGINTä¿¡å·ï¼Œå‡†å¤‡é€€å‡º...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æ–‡ä»¶æ“ä½œ-file-system-constants" tabindex="-1"><a class="header-anchor" href="#_3-æ–‡ä»¶æ“ä½œ-file-system-constants"><span>3. æ–‡ä»¶æ“ä½œï¼ˆFile System Constantsï¼‰</span></a></h3><p>å½“ä½ ä½¿ç”¨<code>fs</code>æ¨¡å—å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œå¯èƒ½éœ€è¦æŒ‡å®šä¸€äº›æ¨¡å¼ï¼ˆå¦‚æ˜¯å¦åªè¯»ã€æ˜¯å¦è¿½åŠ ç­‰ï¼‰ã€‚<code>os.constants</code>ä¸ºæ­¤æä¾›äº†ä¸€ç³»åˆ—æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„å¸¸é‡ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>fs.constants.O_RDONLY</code>è¡¨ç¤ºåªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œè€Œ<code>fs.constants.O_CREAT</code>è¡¨ç¤ºå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ä½¿ç”¨åªè¯»å’Œåˆ›å»ºæ ‡å¿—æ‰“å¼€ï¼ˆæˆ–åˆ›å»ºï¼‰ä¸€ä¸ªæ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;/path/to/my/file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">O_RDONLY</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">O_CREAT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ–‡ä»¶æˆåŠŸæ‰“å¼€&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>os.constants</code>åœ¨ Node.js ä¸­çš„é‡è¦æ€§ï¼šå®ƒä¸ä»…æä¾›äº†ä¸€ç§ä¸æ“ä½œç³»ç»Ÿå±‚é¢äº¤äº‘é“çš„æ–¹å¼ï¼Œè¿˜å¤§å¤§ç®€åŒ–äº†è¿›è¡Œé”™è¯¯å¤„ç†ã€ä¿¡å·å¤„ç†å’Œæ–‡ä»¶ç³»ç»Ÿæ“ä½œç­‰ä»»åŠ¡çš„å¤æ‚åº¦ã€‚è¿™æ ·çš„è®¾è®¡ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿç¼–å†™å‡ºæ›´åŠ å¥å£®ã€å¯ç»´æŠ¤çš„ä»£ç ã€‚</p><h3 id="signal-constants" tabindex="-1"><a class="header-anchor" href="#signal-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#signal-constants" target="_blank" rel="noopener noreferrer">Signal constants</a></span></a></h3><p>åœ¨ Node.js ä¸­ï¼Œ&quot;Signal constants&quot;æ˜¯ä¸€ç»„ä¸æ“ä½œç³»ç»Ÿäº¤äº’æ—¶ç”¨äºå¤„ç†ä¸åŒç±»å‹çš„ä¿¡å·çš„å¸¸é‡ã€‚è¿™äº›ä¿¡å·ä¸»è¦ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ï¼Œæ§åˆ¶å’Œç®¡ç†è¿è¡Œä¸­çš„è¿›ç¨‹ã€‚æ¯ç§ä¿¡å·ä»£è¡¨ä¸åŒçš„æ¶ˆæ¯æˆ–å‘½ä»¤ï¼Œå¦‚ç»ˆæ­¢è¿›ç¨‹ã€åœæ­¢ï¼ˆæš‚åœï¼‰è¿›ç¨‹ã€ç»§ç»­æ‰§è¡Œæš‚åœçš„è¿›ç¨‹ç­‰ã€‚</p><p>è®©æˆ‘ä»¬å…ˆç†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä¿¡å·ï¼ˆSignalï¼‰ï¼š</p><p>ä¿¡å·æ˜¯ä¸€ç§è½¯ä»¶ä¸­æ–­ï¼Œç”¨äºå‘Šè¯‰ä¸€ä¸ªç¨‹åºå®ƒåº”è¯¥æ³¨æ„æˆ–å¤„ç†æŸä¸ªç‰¹å®šäº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œå½“ä½ åœ¨å‘½ä»¤è¡Œç•Œé¢æŒ‰ä¸‹ Ctrl+C æ—¶ï¼Œç»ˆç«¯ä¼šå‘é€ä¸€ä¸ª SIGINT ä¿¡å·ç»™å½“å‰è¿è¡Œçš„è¿›ç¨‹ï¼Œè¯·æ±‚è¯¥è¿›ç¨‹ç»ˆæ­¢ã€‚</p><p>Node.js åˆ©ç”¨äº†è¿™äº›ä¿¡å·æ¥å¸®åŠ©å¼€å‘è€…åœ¨ JavaScript ä»£ç ä¸­å¤„ç†è¿™ç±»äº‹ä»¶ã€‚è¿™äº›ä¿¡å·å¸¸é‡å¯ä»¥åœ¨<code>os</code>æ¨¡å—çš„æ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ä¿¡å·åŠå…¶å«ä¹‰ï¼š</p><ul><li><code>SIGINT</code>ï¼šç¨‹åºç»ˆæ­¢ä¿¡å·ï¼Œé€šå¸¸ç”±ç”¨æˆ·ç”Ÿæˆï¼Œä¾‹å¦‚æŒ‰ Ctrl+Cã€‚</li><li><code>SIGTERM</code>ï¼šè¯·æ±‚ç¨‹åºç»ˆæ­¢ã€‚è¿™æ˜¯ä¸€ä¸ªä¼˜é›…ç»ˆæ­¢ä¿¡å·ï¼Œç¨‹åºåº”è¯¥æ¸…ç†èµ„æºï¼Œç„¶åä¼˜é›…é€€å‡ºã€‚</li><li><code>SIGKILL</code>ï¼šç«‹å³ç»“æŸç¨‹åºã€‚ä¸èƒ½è¢«æ•è·æˆ–å¿½ç•¥ï¼Œå› æ­¤ä¸åº”è¯¥åœ¨ä»£ç ä¸­ä½¿ç”¨å®ƒæ¥å°è¯•ç»“æŸå…¶ä»–è¿›ç¨‹ã€‚</li><li><code>SIGSTOP</code>ï¼šåœæ­¢ï¼ˆæš‚åœï¼‰ä¸€ä¸ªè¿›ç¨‹çš„æ‰§è¡Œã€‚ä¸æ˜¯ç»ˆæ­¢ä¿¡å·ï¼Œè€Œæ˜¯æš‚åœä¿¡å·ã€‚</li><li><code>SIGCONT</code>ï¼šå¦‚æœè¿›ç¨‹è¢«åœæ­¢ï¼Œä½¿ç”¨è¿™ä¸ªä¿¡å·å¯ä»¥è®©å®ƒç»§ç»­ï¼ˆé‡å¯ï¼‰æ‰§è¡Œã€‚</li></ul><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-6" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-6"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><h4 id="_1-æ•æ‰-ctrl-c-äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-æ•æ‰-ctrl-c-äº‹ä»¶"><span>1. æ•æ‰ Ctrl+C äº‹ä»¶</span></a></h4><p>åœ¨ Node.js åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½æƒ³è¦åœ¨ç”¨æˆ·è¯•å›¾é€šè¿‡æŒ‰ Ctrl+C ç»ˆæ­¢ç¨‹åºæ—¶æ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;SIGINT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Process terminated via Ctrl+C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€äº›æ¸…ç†å·¥ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ç„¶åé€€å‡ºç¨‹åº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-ç¨‹åºä¼˜é›…é€€å‡º" tabindex="-1"><a class="header-anchor" href="#_2-ç¨‹åºä¼˜é›…é€€å‡º"><span>2. ç¨‹åºä¼˜é›…é€€å‡º</span></a></h4><p>å½“æ¥æ”¶åˆ°<code>SIGTERM</code>ä¿¡å·æ—¶ï¼Œå¯èƒ½å¸Œæœ›åœ¨å…³é—­æœåŠ¡å™¨ä¹‹å‰å®Œæˆæ­£åœ¨å¤„ç†çš„è¯·æ±‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> express</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;express&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> express</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Server started on port 3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;SIGTERM&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;SIGTERM signal received: closing HTTP server&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;HTTP server closed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ä½¿ç”¨sigkillå¼ºåˆ¶ç»ˆæ­¢å¦ä¸€ä¸ªè¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-ä½¿ç”¨sigkillå¼ºåˆ¶ç»ˆæ­¢å¦ä¸€ä¸ªè¿›ç¨‹"><span>3. ä½¿ç”¨<code>SIGKILL</code>å¼ºåˆ¶ç»ˆæ­¢å¦ä¸€ä¸ªè¿›ç¨‹</span></a></h4><p>è™½ç„¶åœ¨ä½ è‡ªå·±çš„ä»£ç ä¸­ä¸å»ºè®®ä½¿ç”¨<code>SIGKILL</code>ï¼Œä½†äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ä¹Ÿæ˜¯æœ‰ç›Šçš„ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†å¦‚ä½•ä» Node.js è„šæœ¬å‘é€<code>SIGKILL</code>ä¿¡å·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">spawn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;child_process&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> child</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> spawn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;some_other_script.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  child</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kill</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;SIGKILL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// 5ç§’åå¼ºåˆ¶ç»ˆæ­¢å­è¿›ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªå­è¿›ç¨‹è¿è¡Œå¦ä¸€ä¸ª Node.js è„šæœ¬ï¼Œå¹¶ä¸”åœ¨ 5 ç§’åä½¿ç”¨<code>SIGKILL</code>ä¿¡å·å¼ºåˆ¶ç»“æŸå®ƒã€‚</p><p>ç†è§£å’Œä½¿ç”¨ä¿¡å·æ˜¯ Node.js ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªé«˜çº§è¯é¢˜ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°æ§åˆ¶ç¨‹åºçš„è¡Œä¸ºã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¼˜é›…åœ°å¤„ç†ä¿¡å·ï¼Œå¹¶çŸ¥é“ä»€ä¹ˆæ—¶å€™ä»¥åŠå¦‚ä½•æ­£ç¡®åœ°ä½¿ç”¨å®ƒä»¬ï¼Œå¯¹äºåˆ›å»ºç¨³å®šå’Œå¯é çš„ Node.js åº”ç”¨è‡³å…³é‡è¦ã€‚</p><h3 id="error-constants" tabindex="-1"><a class="header-anchor" href="#error-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#error-constants" target="_blank" rel="noopener noreferrer">Error constants</a></span></a></h3><p>åœ¨ Node.js ä¸­ï¼Œæ“ä½œç³»ç»Ÿæ¨¡å—ï¼ˆé€šå¸¸é€šè¿‡ <code>require(&#39;os&#39;)</code> å¼•å…¥ï¼‰æä¾›äº†ä¸€ç³»åˆ—å®ç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚è·å–å½“å‰æœºå™¨çš„ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œåœ¨ä¸æ“ä½œç³»ç»Ÿäº¤äº’æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å„ç§é”™è¯¯ã€‚ä¸ºäº†å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œå¤„ç†è¿™äº›é”™è¯¯ï¼ŒNode.js å®šä¹‰äº†ä¸€ç»„é”™è¯¯å¸¸é‡ã€‚è¿™äº›å¸¸é‡å¯¹åº”äºæ“ä½œç³»ç»Ÿçº§åˆ«çš„é”™è¯¯ä»£ç ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©ä½ ç¡®å®šå‘ç”Ÿäº†ä»€ä¹ˆç±»å‹çš„é”™è¯¯ï¼Œä»è€Œåšå‡ºç›¸åº”çš„å¤„ç†ã€‚</p><p>ä¸‹é¢æˆ‘å°†ç®€è¦è§£é‡Šä¸€äº›å¸¸è§çš„é”™è¯¯å¸¸é‡ï¼Œå¹¶ç»™å‡ºä¸€äº›å®é™…çš„è¿ç”¨ä¾‹å­ï¼š</p><h3 id="å¸¸è§é”™è¯¯å¸¸é‡" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é”™è¯¯å¸¸é‡"><span>å¸¸è§é”™è¯¯å¸¸é‡</span></a></h3><ol><li><p><strong><code>EACCES</code></strong> - è¡¨ç¤ºæ‹’ç»è®¿é—®ã€‚ä¾‹å¦‚ï¼Œå½“ä½ è¯•å›¾è¯»å–ä¸€ä¸ªæ²¡æœ‰è¶³å¤Ÿæƒé™çš„æ–‡ä»¶æ—¶ï¼Œå°±å¯èƒ½é‡åˆ°è¿™ä¸ªé”™è¯¯ã€‚</p></li><li><p><strong><code>EADDRINUSE</code></strong> - è¡¨ç¤ºåœ°å€å·²åœ¨ä½¿ç”¨ä¸­ã€‚å¦‚æœä½ å°è¯•å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨å¹¶ç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œä½†è¿™ä¸ªç«¯å£å·²è¢«å¦ä¸€ä¸ªåº”ç”¨å ç”¨ï¼Œå°±ä¼šå‘ç”Ÿè¿™ä¸ªé”™è¯¯ã€‚</p></li><li><p><strong><code>ECONNREFUSED</code></strong> - è¡¨ç¤ºè¿æ¥è¢«æ‹’ç»ã€‚å¦‚æœä½ è¯•å›¾è¿æ¥åˆ°ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½†è¯¥æœåŠ¡å™¨ä¸æ¥å—è¿æ¥è¯·æ±‚ï¼Œé‚£ä¹ˆå°±ä¼šé‡åˆ°è¿™ä¸ªé”™è¯¯ã€‚</p></li><li><p><strong><code>ENOTFOUND</code></strong> - è¡¨ç¤ºæ‰¾ä¸åˆ°æŸä¸ªå®ä½“ã€‚è¿™ä¸ªé”™è¯¯å¸¸ç”¨äºè¡¨ç¤ºæ— æ³•è§£æä¸»æœºåã€‚</p></li><li><p><strong><code>ETIMEOUT</code></strong> - è¡¨ç¤ºæ“ä½œè¶…æ—¶ã€‚æ¯”æ–¹è¯´ï¼Œä½ å°è¯•ä»æŸä¸ªæœåŠ¡å™¨è·å–æ•°æ®ï¼Œä½†ç­‰å¾…æ—¶é—´è¿‡é•¿å¯¼è‡´æ“ä½œè¶…æ—¶ã€‚</p></li></ol><h3 id="å®é™…è¿ç”¨ä¾‹å­-2" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ä¾‹å­-2"><span>å®é™…è¿ç”¨ä¾‹å­</span></a></h3><h4 id="ä¾‹å­-1-æ•è·å¹¶å¤„ç†-eacces-é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-1-æ•è·å¹¶å¤„ç†-eacces-é”™è¯¯"><span>ä¾‹å­ 1: æ•è·å¹¶å¤„ç† <code>EACCES</code> é”™è¯¯</span></a></h4><p>å‡è®¾ä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ª Node.js ç¨‹åºï¼Œéœ€è¦è¯»å–ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œä½†è¿™ä¸ªæ–‡ä»¶å¯èƒ½æ— æƒè®¿é—®ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/path/to/secret/file.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;utf8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;EACCES&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Error: Permission denied.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;An unexpected error occurred:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¾‹å­-2-å¤„ç†-eaddrinuse-é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-2-å¤„ç†-eaddrinuse-é”™è¯¯"><span>ä¾‹å­ 2: å¤„ç† <code>EADDRINUSE</code> é”™è¯¯</span></a></h4><p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨å°è¯•å¯åŠ¨æœåŠ¡å™¨æ—¶ï¼Œå¤„ç†åœ°å€å·²è¢«å ç”¨çš„æƒ…å†µï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> http</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Hello World!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Server running on port 3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;EADDRINUSE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Error: Port 3000 is already in use.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;An unexpected error occurred:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¾‹å­-3-æ•è·-econnrefused-é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-3-æ•è·-econnrefused-é”™è¯¯"><span>ä¾‹å­ 3: æ•è· <code>ECONNREFUSED</code> é”™è¯¯</span></a></h4><p>å½“ä½ çš„åº”ç”¨å°è¯•è¿æ¥åˆ°ä¸€ä¸ªæœåŠ¡ï¼Œä½†è¯¥æœåŠ¡æœªè¿è¡Œæˆ–ä¸æ¥å—è¿æ¥æ—¶ï¼Œå¦‚ä½•å¤„ç†ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> net</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;net&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> client</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> net</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">createConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">8124</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;connected to server!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">client</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ECONNREFUSED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Error: Connection refused.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;An unexpected error occurred:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡è¿™äº›ä¾‹å­ï¼Œä½ å¯ä»¥çœ‹åˆ°é”™è¯¯å¸¸é‡åœ¨ Node.js åº”ç”¨ç¨‹åºä¸­çš„é‡è¦æ€§ï¼Œå®ƒä»¬å…è®¸ä½ æ ¹æ®é”™è¯¯ç±»å‹åšå‡ºé€‚å½“çš„å“åº”ã€‚äº†è§£å’Œä½¿ç”¨è¿™äº›é”™è¯¯å¸¸é‡èƒ½å¤§å¤§æé«˜ä½ çš„é”™è¯¯å¤„ç†æ•ˆç‡å’Œç¨‹åºçš„å¥å£®æ€§ã€‚</p><h4 id="posix-error-constants" tabindex="-1"><a class="header-anchor" href="#posix-error-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#posix-error-constants" target="_blank" rel="noopener noreferrer">POSIX error constants</a></span></a></h4><p>Node.js v21.7.1 ä¸­çš„ POSIX error constants æ˜¯ä¸€ç³»åˆ—å®šä¹‰åœ¨<code>os</code>æ¨¡å—ä¸­çš„å¸¸é‡ï¼Œè¿™äº›å¸¸é‡å¯¹åº”äº POSIX ç³»ç»Ÿé”™è¯¯ä»£ç ã€‚POSIXï¼Œå…¨ç§°ä¸ºå¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼ˆPortable Operating System Interfaceï¼‰ï¼Œæ˜¯ä¸€ä¸ªå®šä¹‰äº†æ“ä½œç³»ç»Ÿåº”è¯¥ä¸ºåº”ç”¨ç¨‹åºæä¾›å“ªäº›æ¥å£çš„æ ‡å‡†ï¼Œä»¥ç¡®ä¿è½¯ä»¶èƒ½åœ¨å„ç§ UNIX ç³»ç»Ÿä¸Šè¿è¡Œã€‚</p><p>åœ¨ Node.js ä¸­ï¼Œ<code>os</code>æ¨¡å—æä¾›äº†ä¸€ç»„ç”¨äºå¤„ç†æ“ä½œç³»ç»Ÿç›¸å…³ä»»åŠ¡çš„å®ç”¨å·¥å…·ï¼Œå…¶ä¸­å°±åŒ…æ‹¬ POSIX é”™è¯¯å¸¸é‡ã€‚è¿™äº›é”™è¯¯å¸¸é‡å…è®¸å¼€å‘è€…åœ¨ä»£ç ä¸­å¼•ç”¨å¸¸è§çš„ç³»ç»Ÿçº§é”™è¯¯ï¼Œè€Œä¸å¿…è®°ä½ç‰¹å®šçš„é”™è¯¯ä»£ç æ•°å­—ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç§»æ¤æ€§ã€‚</p><h3 id="å®é™…è¿ç”¨ä¾‹å­-3" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ä¾‹å­-3"><span>å®é™…è¿ç”¨ä¾‹å­</span></a></h3><ol><li><p><strong>æ–‡ä»¶æ“ä½œé”™è¯¯å¤„ç†</strong>ï¼šå½“ä½ åœ¨ä½¿ç”¨<code>fs</code>æ¨¡å—ï¼ˆè´Ÿè´£æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼‰è¯»å–æˆ–å†™å…¥æ–‡ä»¶æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°è¯¸å¦‚æƒé™ä¸è¶³ã€æ–‡ä»¶ä¸å­˜åœ¨ç­‰é”™è¯¯ã€‚è¿™äº›é”™è¯¯ä¼šä»¥é”™è¯¯ä»£ç çš„å½¢å¼è¿”å›ï¼Œé€šè¿‡å¯¹ç…§ POSIX é”™è¯¯å¸¸é‡ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£å’Œå¤„ç†è¿™äº›é”™è¯¯ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/some/nonexistent/file.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">ENOENT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">      console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;å‘ç”Ÿäº†å…¶ä»–é”™è¯¯&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç½‘ç»œç¼–ç¨‹é”™è¯¯å¤„ç†</strong>ï¼šåœ¨è¿›è¡Œç½‘ç»œç¼–ç¨‹æ—¶ï¼Œå¦‚ä½¿ç”¨<code>http</code>æ¨¡å—åˆ›å»º web æœåŠ¡å™¨ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ç«¯å£å·²è¢«å ç”¨ã€ç½‘ç»œè¿æ¥å¤±è´¥ç­‰é—®é¢˜ã€‚è¿™äº›é—®é¢˜é€šå¸¸ä¼šä»¥ç³»ç»Ÿé”™è¯¯çš„å½¢å¼è¿”å›ï¼Œé€šè¿‡ POSIX é”™è¯¯å¸¸é‡ï¼Œå¯ä»¥ç²¾ç¡®åœ°è¯†åˆ«é”™è¯¯ç±»å‹ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> http</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">writeHead</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Content-Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;text/plain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Hello World</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æœåŠ¡å™¨è¿è¡Œåœ¨ http://127.0.0.1:8080/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EADDRINUSE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ç«¯å£å·²è¢«å ç”¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>é€šè¿‡è¿™äº›ä¾‹å­ï¼Œå¯ä»¥çœ‹åˆ° POSIX é”™è¯¯å¸¸é‡åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ï¼Œå¸®åŠ©å¼€å‘è€…æ›´æœ‰æ•ˆåœ°è¯†åˆ«å’Œå¤„ç†æ“ä½œç³»ç»Ÿçº§çš„é”™è¯¯ã€‚è¿™å¯¹äºç¼–å†™å¥å£®ã€å¯é çš„ Node.js åº”ç”¨æ˜¯éå¸¸é‡è¦çš„ã€‚</p><h4 id="windows-specific-error-constants" tabindex="-1"><a class="header-anchor" href="#windows-specific-error-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#windows-specific-error-constants" target="_blank" rel="noopener noreferrer">Windows-specific error constants</a></span></a></h4><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯çš„ä»£ç ã€‚å®ƒå…·æœ‰éé˜»å¡ I/Oã€äº‹ä»¶é©±åŠ¨è¿™äº›ç‰¹æ€§ï¼Œä½¿å¾—å®ƒç‰¹åˆ«é€‚åˆæ„å»ºé«˜æ€§èƒ½çš„ç½‘ç»œåº”ç”¨ç¨‹åºã€‚</p><p>åœ¨è®¨è®º Node.js v21.7.1 ä¸­æåˆ°çš„â€œWindows-specific error constantsâ€ï¼ˆWindows ç‰¹å®šé”™è¯¯å¸¸é‡ï¼‰ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€äº›èƒŒæ™¯ä¿¡æ¯ã€‚å½“ä½ åœ¨ Windows æ“ä½œç³»ç»Ÿä¸Šå¼€å‘æˆ–è¿è¡Œç¨‹åºæ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›ç‰¹å®šäºè¯¥ç³»ç»Ÿçš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå°è¯•è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€æ— æƒé™è®¿é—®æŸä¸ªèµ„æºæˆ–è€…ç½‘ç»œè¿æ¥é—®é¢˜ç­‰ã€‚è¿™äº›é”™è¯¯é€šå¸¸ç”±æ“ä½œç³»ç»Ÿçš„ API è¿”å›ï¼Œå¹¶ä¸”æ¯ç§é”™è¯¯éƒ½æœ‰å¯¹åº”çš„é”™è¯¯ä»£ç ï¼ˆå¸¸é‡ï¼‰ã€‚</p><p>Node.js æä¾›äº†ä¸€ç»„ä¸å¹³å°ç›¸å…³çš„é”™è¯¯å¸¸é‡ï¼Œä½¿å¼€å‘äººå‘˜å¯ä»¥æ›´å®¹æ˜“åœ°è¯†åˆ«å’Œå¤„ç†è¿™äº›é”™è¯¯ã€‚åœ¨ Node.js çš„<code>os</code>æ¨¡å—ä¸­ï¼Œç‰¹åˆ«ä¸º Windows ç³»ç»Ÿå®šä¹‰äº†ä¸€ç³»åˆ—é”™è¯¯å¸¸é‡ã€‚è¿™æ„å‘³ç€å½“ä½ ä½¿ç”¨ Node.js å¼€å‘é¢å‘ Windows çš„åº”ç”¨æ—¶ï¼Œä½ å¯ä»¥åˆ©ç”¨è¿™äº›å¸¸é‡æ¥åˆ¤æ–­ç‰¹å®šçš„ç³»ç»Ÿé”™è¯¯ã€‚</p><h3 id="å®é™…è¿ç”¨ç¤ºä¾‹-7" tabindex="-1"><a class="header-anchor" href="#å®é™…è¿ç”¨ç¤ºä¾‹-7"><span>å®é™…è¿ç”¨ç¤ºä¾‹</span></a></h3><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª Node.js åº”ç”¨ç¨‹åºï¼Œè¯¥ç¨‹åºéœ€è¦è¯»å–ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå¤šç§é”™è¯¯ï¼Œæ¯”å¦‚æ–‡ä»¶ä¸å­˜åœ¨ï¼ˆ<code>ENOENT</code>ï¼‰ï¼Œæ²¡æœ‰æƒé™è¯»å–æ–‡ä»¶ï¼ˆ<code>EACCES</code>ï¼‰ï¼Œæˆ–è€…æ–‡ä»¶æ­£è¢«å¦ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼ˆ<code>EBUSY</code>ï¼‰ã€‚åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œè¿™äº›é”™è¯¯åˆ†åˆ«æœ‰å¯¹åº”çš„é”™è¯¯ç ï¼ŒNode.js å…è®¸ä½ é€šè¿‡<code>os.constants.errno</code>æ¥è®¿é—®è¿™äº›é”™è¯¯ç ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/path/to/file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      case</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">ENOENT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        break</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      case</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EACCES</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ²¡æœ‰æƒé™è¯»å–æ–‡ä»¶&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        break</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      case</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">EBUSY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æ–‡ä»¶æ­£è¢«ä½¿ç”¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        break</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      default</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`æœªçŸ¥é”™è¯¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¦‚æœ<code>readFile</code>å‡½æ•°é‡åˆ°é”™è¯¯ï¼Œå®ƒä¼šå›è°ƒä¸€ä¸ªå¸¦æœ‰<code>err</code>å¯¹è±¡çš„å‡½æ•°ã€‚é€šè¿‡æ£€æŸ¥<code>err.errno</code>ä¸<code>os.constants.errno</code>ä¸­å®šä¹‰çš„ Windows ç‰¹å®šé”™è¯¯å¸¸é‡çš„åŒ¹é…æƒ…å†µï¼Œç¨‹åºå¯ä»¥ç¡®å®šå‘ç”Ÿäº†ä»€ä¹ˆç±»å‹çš„é”™è¯¯ï¼Œå¹¶æ®æ­¤è¿›è¡Œç›¸åº”çš„é”™è¯¯å¤„ç†ï¼Œæ¯”å¦‚å‘ç”¨æˆ·æ˜¾ç¤ºæ›´å‹å¥½çš„é”™è¯¯ä¿¡æ¯æˆ–å°è¯•è§£å†³é—®é¢˜ã€‚</p><p>è¿™åªæ˜¯ä¸€ä¸ªç®€åŒ–çš„ç¤ºä¾‹ï¼Œå®é™…åº”ç”¨ä¸­å¯èƒ½ä¼šæ¶‰åŠåˆ°æ›´å¤šçš„é”™è¯¯æ£€æŸ¥å’Œå¤„ç†ã€‚ç†è§£å’Œä½¿ç”¨è¿™äº› Windows ç‰¹å®šçš„é”™è¯¯å¸¸é‡ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´æœ‰æ•ˆåœ°å¼€å‘å‡ºç¨³å®šå’Œç”¨æˆ·å‹å¥½çš„åº”ç”¨ç¨‹åºã€‚</p><h3 id="dlopen-constants" tabindex="-1"><a class="header-anchor" href="#dlopen-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#dlopen-constants" target="_blank" rel="noopener noreferrer">dlopen constants</a></span></a></h3><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œå®ƒå…è®¸åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œ JavaScript ä»£ç ã€‚è¿™ç§èƒ½åŠ›è®© JavaScript ä¸ä»…é™äºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼ŒåŒæ—¶ä¹Ÿèƒ½ç”¨äºå¼€å‘åç«¯åº”ç”¨ç¨‹åºã€‚Node.js æä¾›äº†å¤§é‡çš„æ¨¡å—å’Œ API æ¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œé€šä¿¡ç­‰ä»»åŠ¡ã€‚</p><p>å½“æˆ‘ä»¬è°ˆåˆ° Node.js v21.7.1 ä¸­çš„â€œdlopen constantsâ€æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨è®¨è®ºä¸€ç»„ç‰¹å®šçš„å¸¸æ•°ï¼ˆæˆ–è€…è¯´æ˜¯æ ‡å¿—ï¼‰ï¼Œè¿™äº›å¸¸æ•°ç”¨äº<code>os</code>æ¨¡å—æä¾›çš„<code>dlopen()</code>å‡½æ•°ã€‚<code>os</code>æ¨¡å—æ˜¯ Node.js çš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†ä¸€äº›åŸºç¡€çš„æ“ä½œç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½ã€‚å…¶ä¸­ï¼Œ<code>dlopen()</code>å‡½æ•°è¢«ç”¨æ¥åŠ¨æ€åœ°åŠ è½½å…±äº«å¯¹è±¡ï¼ˆshared objectsï¼‰æˆ–åŠ¨æ€é“¾æ¥åº“ï¼ˆDLLsï¼‰ã€‚</p><p>è¿™äº›â€œdlopen constantsâ€å®šä¹‰äº†<code>dlopen()</code>å‡½æ•°å¦‚ä½•è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå®ƒä»¬å¯ä»¥æ§åˆ¶å¦‚ä½•è§£æç¬¦å·ï¼ˆå¦‚å‡½æ•°æˆ–å˜é‡ï¼‰ï¼Œæ˜¯å¦ç«‹å³ç»‘å®šç¬¦å·ï¼Œæˆ–è€…æ˜¯å¦ä½¿ç”¨å…¨å±€å‘½åç©ºé—´ã€‚è¿™æ˜¯éå¸¸ä½çº§åˆ«ä½†å¼ºå¤§çš„åŠŸèƒ½ï¼Œé€šå¸¸ç”¨äºéœ€è¦ä¸ C/C++åº“äº¤äº’çš„åœºæ™¯ã€‚</p><h3 id="å®é™…ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#å®é™…ä¾‹å­"><span>å®é™…ä¾‹å­</span></a></h3><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª Node.js åº”ç”¨ç¨‹åºï¼Œè¯¥ç¨‹åºéœ€è¦åˆ©ç”¨ä¸€ä¸ª C è¯­è¨€ç¼–å†™çš„å›¾å½¢å¤„ç†åº“ã€‚<a href="http://xn--ciqqi163bnsas3lsn6choa564dkpgxyk.so" target="_blank" rel="noopener noreferrer">è¿™ä¸ªåº“å·²ç»è¢«ç¼–è¯‘æˆäº†.so</a>ï¼ˆåœ¨ Linux ä¸Šï¼‰æˆ–.dllï¼ˆåœ¨ Windows ä¸Šï¼‰æ ¼å¼çš„åŠ¨æ€é“¾æ¥åº“ã€‚åœ¨ Node.js ç¨‹åºä¸­ï¼Œä½ æƒ³è¦è°ƒç”¨è¿™ä¸ªåº“æä¾›çš„ä¸€äº›å‡½æ•°æ¥å¤„ç†å›¾åƒã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦ä½¿ç”¨<code>dlopen()</code>å‡½æ•°æ¥åŠ è½½è¿™ä¸ªåº“ã€‚è¿™é‡Œï¼Œâ€œdlopen constantsâ€å°±æ´¾ä¸Šäº†ç”¨åœºï¼Œå› ä¸ºå®ƒä»¬è®©ä½ èƒ½æŒ‡å®šåŠ è½½åº“æ—¶çš„ä¸€äº›è¡Œä¸ºé€‰é¡¹ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å‡è®¾libImageProcessoræ˜¯ä½ çš„åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> libPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;./libImageProcessor.so&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // ä½¿ç”¨RTLD_NOWå¸¸é‡ï¼Œæ„å‘³ç€æ‰€æœ‰æœªå®šä¹‰çš„ç¬¦å·åœ¨åŠ è½½æ—¶ä¼šç«‹å³è§£æ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dlopen</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">libPath</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">dlopen</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">RTLD_NOW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Library loaded successfully&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // ç°åœ¨å¯ä»¥é€šè¿‡è°ƒç”¨ç›¸å…³çš„Node.jsæ‰©å±•/N-APIæˆ–å…¶ä»–æœºåˆ¶æ¥ä½¿ç”¨åº“å‡½æ•°äº†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Failed to load library:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé™¤äº†ç›´æ¥ä½¿ç”¨<code>dlopen()</code>å¤–ï¼Œæ›´å¤šæ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šé€šè¿‡ Node.js çš„ N-API æˆ–å…¶ä»–æ‰©å±•æœºåˆ¶ï¼ˆæ¯”å¦‚<code>ffi-napi</code>åº“ï¼‰æ¥ä¸ C/C++åº“äº’åŠ¨ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æ›´æ–¹ä¾¿åœ°è¿›è¡Œå‡½æ•°è°ƒç”¨å’Œæ•°æ®äº¤æ¢ã€‚</p><h3 id="ç»“è®º-1" tabindex="-1"><a class="header-anchor" href="#ç»“è®º-1"><span>ç»“è®º</span></a></h3><p>&quot;dlopen constants&quot;åœ¨ Node.js ä¸­æ˜¯ä¸ä½çº§ç³»ç»Ÿäº¤äº’ç›¸å…³çš„ï¼Œå®ƒä»¬ä¸»è¦ç”¨äºæ§åˆ¶åŠ¨æ€é“¾æ¥åº“çš„åŠ è½½æ–¹å¼ã€‚è™½ç„¶å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œç›´æ¥ä½¿ç”¨è¿™äº›åŠŸèƒ½çš„æƒ…å†µå¯èƒ½è¾ƒå°‘ï¼Œä½†äº†è§£å®ƒä»¬çš„å­˜åœ¨å’Œä½œç”¨å¯¹äºæ·±å…¥ç†è§£ Node.js ä¸æœ¬åœ°ç³»ç»Ÿå¦‚ä½•äº¤äº’æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚</p><h3 id="priority-constants" tabindex="-1"><a class="header-anchor" href="#priority-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#priority-constants" target="_blank" rel="noopener noreferrer">Priority constants</a></span></a></h3><p>Node.js ä¸­çš„ä¼˜å…ˆçº§å¸¸é‡ï¼ˆPriority constantsï¼‰æ˜¯ç”¨æ¥è®¾ç½®å’Œè·å–è¿›ç¨‹ä¼˜å…ˆçº§çš„å€¼ã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªä¼˜å…ˆçº§å€¼ï¼Œè¿™ä¸ªå€¼å†³å®šäº†è¿›ç¨‹è·å¾—å¤„ç†å™¨æ—¶é—´çš„é¢‘ç‡ã€‚ä¼˜å…ˆçº§è¶Šé«˜çš„è¿›ç¨‹ï¼Œå°±è¶Šå¯èƒ½è¢«æ“ä½œç³»ç»Ÿä¼˜å…ˆæ‰§è¡Œã€‚</p><p>åœ¨ Node.js çš„ <code>os</code> æ¨¡å—ä¸­ï¼Œæä¾›äº†ä¸€ç»„ä¼˜å…ˆçº§å¸¸é‡ï¼Œä»¥ä¾¿å¼€å‘è€…å¯ä»¥åœ¨ç¼–å†™ç¨‹åºæ—¶ä½¿ç”¨æ ‡å‡†çš„åç§°è€Œä¸æ˜¯åŸå§‹çš„æ•°å€¼ã€‚ä½¿ç”¨è¿™äº›å¸¸é‡å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç§»æ¤æ€§ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†ä¸€äº›å…¸å‹çš„ä¼˜å…ˆçº§å¸¸é‡åŠå…¶å«ä¹‰ï¼š</p><ul><li><code>os.constants.priority.PRIORITY_LOW</code>: è¡¨ç¤ºä½ä¼˜å…ˆçº§ã€‚</li><li><code>os.constants.priority.PRIORITY_BELOW_NORMAL</code>: è¡¨ç¤ºç•¥ä½äºæ­£å¸¸ä¼˜å…ˆçº§ã€‚</li><li><code>os.constants.priority.PRIORITY_NORMAL</code>: è¡¨ç¤ºæ­£å¸¸ä¼˜å…ˆçº§ã€‚</li><li><code>os.constants.priority.PRIORITY_ABOVE_NORMAL</code>: è¡¨ç¤ºç•¥é«˜äºæ­£å¸¸ä¼˜å…ˆçº§ã€‚</li><li><code>os.constants.priority.PRIORITY_HIGH</code>: è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ã€‚</li><li><code>os.constants.priority.PRIORITY_HIGHEST</code>: è¡¨ç¤ºæœ€é«˜ä¼˜å…ˆçº§ã€‚</li></ul><p>ä¸ºäº†ä½¿ç”¨è¿™äº›ä¼˜å…ˆçº§å¸¸é‡ï¼Œä½ éœ€è¦é¦–å…ˆå¼•å…¥ Node.js çš„ <code>os</code> æ¨¡å—ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ä¼˜å…ˆçº§å¸¸é‡ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å¼•å…¥ os æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è·å–å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> currentPriority</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§æ˜¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">currentPriority</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å°è¯•å°†å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§æå‡è‡³é«˜ä¼˜å…ˆçº§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">priority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">PRIORITY_HIGH</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ä¼˜å…ˆçº§æå‡æˆåŠŸ!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;æå‡ä¼˜å…ˆçº§å¤±è´¥:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å†æ¬¡è·å–å¹¶æ‰“å°æ›´æ–°åçš„ä¼˜å…ˆçº§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> newPriority</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`æ–°çš„è¿›ç¨‹ä¼˜å…ˆçº§æ˜¯: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">newPriority</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè°ƒç”¨ <code>getPriority</code> æ–¹æ³•æ¥è·å–å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å°è¯•ä½¿ç”¨ <code>setPriority</code> æ–¹æ³•å’Œ <code>PRIORITY_HIGH</code> å¸¸é‡æ¥æé«˜å½“å‰è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œæˆ‘ä»¬å°†æ‰“å°å‡ºæˆåŠŸæ¶ˆæ¯ï¼Œå¦åˆ™æ‰“å°å‡ºé”™è¯¯ä¿¡æ¯ã€‚æœ€åï¼Œæˆ‘ä»¬å†æ¬¡è·å–å¹¶æ‰“å°å‡ºæ–°çš„è¿›ç¨‹ä¼˜å…ˆçº§ã€‚</p><p>è¯·æ³¨æ„ï¼Œä¿®æ”¹è¿›ç¨‹ä¼˜å…ˆçº§é€šå¸¸éœ€è¦ç‰¹å®šçš„ç³»ç»Ÿæƒé™ã€‚å¦‚æœä½ æ²¡æœ‰è¶³å¤Ÿçš„æƒé™ï¼Œè°ƒç”¨ <code>setPriority</code> æ–¹æ³•å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><h3 id="libuv-constants" tabindex="-1"><a class="header-anchor" href="#libuv-constants"><span><a href="https://nodejs.org/docs/latest/api/os.html#libuv-constants" target="_blank" rel="noopener noreferrer">libuv constants</a></span></a></h3><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 JavaScript å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œå®ƒå…è®¸åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œ JavaScript ä»£ç ã€‚Node.js ä½¿ç”¨äº†ä¸€ä¸ªå«åš libuv çš„åº“ï¼Œè¿™ä¸ªåº“æä¾›äº†è·¨å¹³å°çš„å¼‚æ­¥ I/O èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥å¸®åŠ© Node.js é«˜æ•ˆåœ°å¤„ç†æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€è®¡æ—¶å™¨ç­‰æ“ä½œã€‚</p><p>libuv å¸¸é‡æ˜¯ libuv åº“ä¸ºæ“ä½œç³»ç»Ÿçº§åˆ«çš„é”™è¯¯å’ŒçŠ¶æ€ç æä¾›çš„ä¸€ç»„é¢„å®šä¹‰å¸¸æ•°ã€‚åœ¨ Node.js ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ <code>os.constants</code> å¯¹è±¡æ¥è®¿é—®è¿™äº› libuv å®šä¹‰çš„å¸¸é‡ã€‚</p><p>å®é™…ä¸Šï¼Œå¼€å‘è€…åœ¨ç¼–å†™ Node.js ç¨‹åºæ—¶å¯èƒ½ä¼šé‡åˆ°éœ€è¦å¤„ç†æ“ä½œç³»ç»Ÿçº§åˆ«é”™è¯¯çš„æƒ…å†µã€‚ä½¿ç”¨ <code>os.constants</code> å¯¹è±¡ï¼Œä½ å¯ä»¥è·å–æ ‡å‡†çš„é”™è¯¯ç å’Œä¿¡å·åç§°ï¼Œä»è€Œç¼–å†™å‡ºæ›´åŠ å¥å£®å’Œå¯ç§»æ¤çš„ä»£ç ã€‚</p><h3 id="ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹"><span>ç¤ºä¾‹</span></a></h3><h4 id="é”™è¯¯ç -error-codes" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯ç -error-codes"><span>é”™è¯¯ç  (Error Codes)</span></a></h4><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ å°è¯•è¯»å–ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼ŒNode.js æ–‡ä»¶ç³»ç»Ÿæ¨¡å—å°†è¿”å›ä¸€ä¸ªé”™è¯¯ï¼ˆError å¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªé”™è¯¯çš„ <code>code</code> å±æ€§å¯èƒ½æ˜¯ <code>&#39;ENOENT&#39;</code>ï¼Œè¡¨ç¤ºæ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨ã€‚é€šè¿‡ <code>os.constants.errno</code> å¯ä»¥æ‰¾åˆ°è¿™æ ·çš„é”™è¯¯ç çš„è¯´æ˜ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// è¯•å›¾è¯»å–ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/path/to/nonexistent/file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // è¾“å‡º: ENOENT: no such file or directory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">errno</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">ENOENT</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¿¡å·å¸¸é‡-signal-constants" tabindex="-1"><a class="header-anchor" href="#ä¿¡å·å¸¸é‡-signal-constants"><span>ä¿¡å·å¸¸é‡ (Signal Constants)</span></a></h4><p>å¦ä¸€ä¸ªä¾‹å­æ˜¯ä¿¡å·å¸¸é‡ã€‚å½“ä½ æƒ³è¦å¤„ç†å¦‚ä¸­æ–­è¿›ç¨‹ (<code>SIGINT</code>) æˆ–ç»ˆæ­¢è¿›ç¨‹ (<code>SIGTERM</code>) ä¹‹ç±»çš„ç³»ç»Ÿä¿¡å·æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>os.constants.signals</code> å¯¹è±¡ã€‚è¿™äº›ä¿¡å·é€šå¸¸ç”¨äºæ§åˆ¶è¿›ç¨‹çš„è¡Œä¸ºï¼Œå¦‚å…³é—­å‰çš„æ¸…ç†å·¥ä½œã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> os</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">os</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">constants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">signals</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">SIGINT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Received SIGINT. Graceful shutdown.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  process</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç›‘å¬ <code>SIGINT</code> ä¿¡å· â€”â€” é€šå¸¸é€šè¿‡ç”¨æˆ·æŒ‰ä¸‹ <code>Ctrl+C</code> è§¦å‘ã€‚å½“æ¥æ”¶åˆ°è¯¥ä¿¡å·æ—¶ï¼Œç¨‹åºè¾“å‡ºä¿¡æ¯å¹¶ä¼˜é›…åœ°å…³é—­ã€‚</p><p>ä¾èµ–äº libuv æä¾›çš„è¿™äº›å¸¸é‡ï¼ŒNode.js å¯ä»¥ç¼–å†™é€‚åº”ä¸åŒæ“ä½œç³»ç»Ÿçš„ä»£ç ï¼Œå› ä¸º libuv è´Ÿè´£å¹³æ»‘åœ°å¤„ç†åº•å±‚å·®å¼‚ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œäº†è§£ <code>os.constants</code> å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œå¤„ç†æ“ä½œç³»ç»Ÿå±‚é¢çš„è¡Œä¸ºï¼Œå¹¶ä¸”ç¼–å†™å‡ºæ›´åŠ ç¨³å®šå’Œå…¼å®¹ä¸åŒå¹³å°çš„ Node.js åº”ç”¨ç¨‹åºã€‚</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: kamiacgxu@gmail.com">kamishima-kaede</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/document/node-doc/Node-API.html" aria-label="Node-API"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Node-API</div></a><a class="route-link auto-link next" href="/document/node-doc/Path.html" aria-label="Path"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Path<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2018-present hanekawa-shiki</div></footer></div><!--]--><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.e98858ae.js" defer></script><script src="/assets/js/9435.209d772b.js" defer></script><script src="/assets/js/app.604dc302.js" defer></script>
  </body>
</html>
